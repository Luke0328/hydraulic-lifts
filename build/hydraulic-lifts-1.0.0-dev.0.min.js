// Copyright Â© Luke Pan. All rights reserved.

/**
 * @license hydraulic-lifts 1.0.0-dev.0
 * Released under AGPL-3.0
 */
function t(e,i,r,o){return(t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,r){var o,s=l(t,e);if(s){if((o=Object.getOwnPropertyDescriptor(s,e)).set)return o.set.call(r,i),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,e)){if(!o.writable)return!1;o.value=i,Object.defineProperty(r,e,o)}else n(r,e,i);return!0})(e,i,r,o)}function e(e,n,i,r,o){if(!t(e,n,i,r||e)&&o)throw new Error("failed to set property");return i}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(){var e,n=h(t);if(s()){var i=h(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return r(this,e)}}function r(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=l(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return _(t)||p(t)||y(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function p(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _(t){if(Array.isArray(t))return v(t)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t,n,r;!function(e){var i,o,s,a,c={},u={},l={},h={},d=Object.prototype.hasOwnProperty,f=[].slice,y=/\.js$/;function p(t,e){return d.call(t,e)}function _(t,e){var n,i,r,o,s,a,c,u,h,d,f,p=e&&e.split("/"),_=l.map,v=_&&_["*"]||{};if(t){for(s=(t=t.split("/")).length-1,l.nodeIdCompat&&y.test(t[s])&&(t[s]=t[s].replace(y,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),h=0;h<t.length;h++)if("."===(f=t[h]))t.splice(h,1),h-=1;else if(".."===f){if(0===h||1===h&&".."===t[2]||".."===t[h-1])continue;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}if((p||v)&&_){for(h=(n=t.split("/")).length;h>0;h-=1){if(i=n.slice(0,h).join("/"),p)for(d=p.length;d>0;d-=1)if((r=_[p.slice(0,d).join("/")])&&(r=r[i])){o=r,a=h;break}if(o)break;!c&&v&&v[i]&&(c=v[i],u=h)}!o&&c&&(o=c,a=u),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function v(t,e){return function(){var n=f.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),o.apply(void 0,n.concat([t,e]))}}function m(t){return function(e){c[t]=e}}function g(t){if(p(u,t)){var e=u[t];delete u[t],h[t]=!0,i.apply(void 0,e)}if(!p(c,t)&&!p(h,t))throw new Error("No "+t);return c[t]}function S(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function R(t){return t?S(t):[]}function O(t){return function(){return l&&l.config&&l.config[t]||{}}}s=function(t,e){var n,i,r=S(t),o=r[0],s=e[1];return t=r[1],o&&(n=g(o=_(o,s))),o?t=n&&n.normalize?n.normalize(t,(i=s,function(t){return _(t,i)})):_(t,s):(o=(r=S(t=_(t,s)))[0],t=r[1],o&&(n=g(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},a={require:function(t){return v(t)},exports:function(t){var e=c[t];return void 0!==e?e:c[t]={}},module:function(t){return{id:t,uri:"",exports:c[t],config:O(t)}}},i=function(t,e,n,i){var r,o,l,d,f,y,_,S=[],O=b(n);if(y=R(i=i||t),"undefined"===O||"function"===O){for(e=!e.length&&n.length?["require","exports","module"]:e,f=0;f<e.length;f+=1)if("require"===(o=(d=s(e[f],y)).f))S[f]=a.require(t);else if("exports"===o)S[f]=a.exports(t),_=!0;else if("module"===o)r=S[f]=a.module(t);else if(p(c,o)||p(u,o)||p(h,o))S[f]=g(o);else{if(!d.p)throw new Error(t+" missing "+o);d.p.load(d.n,v(i,!0),m(o),{}),S[f]=c[o]}l=n?n.apply(c[t],S):void 0,t&&(r&&void 0!==r.exports&&r.exports!==c[t]?c[t]=r.exports:void 0===l&&_||(c[t]=l))}else t&&(c[t]=n)},t=n=o=function(t,e,n,r,c){if("string"==typeof t)return a[t]?a[t](e):g(s(t,R(e)).f);if(!t.splice){if((l=t).deps&&o(l.deps,l.callback),!e)return;e.splice?(t=e,e=n,n=null):t=void 0}return e=e||function(){},"function"==typeof n&&(n=r,r=c),r?i(void 0,t,e,n):setTimeout((function(){i(void 0,t,e,n)}),4),o},o.config=function(t){return o(t)},t._defined=c,(r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),p(c,t)||p(u,t)||(u[t]=[t,e,n])}).amd={jQuery:!0}}(),r("almond",(function(){})),r("SIM_CORE/util/assert",["require"],(function(t){"use strict";var e=function(t,e){if(!t)throw e=e?"Assertion failed: "+e:"Assertion failed","undefined"==typeof process&&console.log(e),new Error(e)};function n(t,i){n.enabled&&e(t,i)}return n.enabled=!1,n.enableAssertions=function(){console.log("Assertions Enabled..."),n.enabled=!0},n.always=function(t,n){e(t,n)},n})),r("SIM_CORE/util/QueryParameters",["require","SIM_CORE/util/assert"],(function(t){"use strict";var e,n=t("SIM_CORE/util/assert").always,i="undefined"==typeof process,r=(e={},i?(window.location.search.substring(1).split("&").forEach((function(t){if(""!==t){var n=t.split("=",2),i=n[0],r=2===n.length?n[1]:null;e[i]=r?decodeURIComponent(r):r}})),e):e),o=["flag","boolean","number","string"];return function(){function t(){m(this,t)}return S(t,null,[{key:"retrieve",value:function(t){var e=this;!function(t){n(Object.getPrototypeOf(t)===Object.prototype,"invalid schema: ".concat(t)),Object.keys(t).forEach((function(e){var i=t[e];n(Object.getPrototypeOf(i)===Object.prototype,"invalid object for ?".concat(e,": ").concat(i)),n(o.includes(i.type),"invalid type for ?".concat(e,": ").concat(i.type)),n("flag"===i.type||b(i.defaultValue)===i.type,"invalid defaultValue for ?".concat(e,": ").concat(i.defaultValue)),n(!i.isValidValue||"function"==typeof i.isValidValue,"invalid isValidValue for ?".concat(e,": ").concat(i.isValidValue)),n(!("flag"!==i.type&&i.isValidValue)||i.isValidValue(i.defaultValue),"invalid defaultValue for ?".concat(e," doesn't pass isValidValue(): ").concat(i.defaultValue))}))}(t);var i={};return Object.keys(t).forEach((function(r){var o=t[r],s=o.type,a="flag"!==s&&o.defaultValue,c=e.get(r),u=o.isValidValue,l=e.contains(r)?function(t,e,i){if("number"===e){var r=Number(t);return n(!isNaN(r),"invalid number value for ?".concat(i,": ").concat(t)),r}return"boolean"===e?(n("true"===t||"false"===t,"invalid boolean value for ?".concat(i,": ").concat(t)),"true"===t):"flag"===e?(n(null===t,"value for ?".concat(i," shouldn't exist: ").concat(t," for 'flag' parameter types")),!0):t}(c,s,r):a;n(!u||u(l),"value ".concat(l," for ?").concat(r," didn't pass isValidValue()")),i[r]=l})),i}},{key:"contains",value:function(t){return n("string"==typeof t,"invalid name ".concat(t)),Object.prototype.hasOwnProperty.call(r,t)}},{key:"get",value:function(t){return n("string"==typeof t,"invalid name ".concat(t)),r[t]}}]),t}()})),r("SIM_CORE/StandardSimQueryParameters",["require","SIM_CORE/util/assert","SIM_CORE/util/QueryParameters"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/QueryParameters").retrieve({ea:{type:"flag"},fps:{type:"flag"},version:{type:"flag"},dev:{type:"flag"},resizeThrottle:{type:"number",isValidValue:function(t){return t>=0},defaultValue:17}});return n.ea&&e.enableAssertions(),n})),r("SIM_CORE/util/Util",["require","SIM_CORE/util/assert","SIM_CORE/StandardSimQueryParameters"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/StandardSimQueryParameters"),i={EPSILON:1e-5,PHI:(1+Math.sqrt(5))/2,MICRO:1e-6,MILLI:.001,BASE:1,CENTI:.01,KILO:1e3,GIGA:1e9,toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},convertTo:function(t,e){return t/e},convertFrom:function(t,e){return t*e},clamp:function(t,e,n){return t<e?e:t>n?n:t},gcd:function(t,e){return Math.abs(0===e?t:this.gcd(e,t%e))},lcm:function(t,e){return i.roundSymmetric(Math.abs(t*e)/i.gcd(t,e))},solveLinearRoots:function(t,e){return 0===t?0===e?null:[]:[-e/t]},solveQuadraticRoots:function(t,e,n){if(0===t)return i.solveLinearRoots(e,n);var r=e*e-4*t*n;return r<0?[]:0===r?[-e/(2*t)]:[(-e-Math.sqrt(r))/(2*t),(-e+Math.sqrt(r))/(2*t)]},cubeRoot:function(t){return t>=0?Math.pow(t,1/3):-Math.pow(-t,1/3)},roundSymmetric:function(t){return i.sign(t)*Math.round(Math.abs(t))},toFixed:function(t,e){var n=Math.pow(10,e),r=i.roundSymmetric(t*n)/n;return parseFloat(r.toFixed(e))},isInteger:function(t){return e("number"==typeof t,"isInteger requires its argument to be a number: "+t),t%1==0},equalsEpsilon:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EPSILON;return Math.abs(t-e)<=n},sign:function(t){return(t>0)-(t<0)||+t},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},log10:function(t){return Math.log(t)/Math.LN10},numberOfDecimalPlaces:function(t){for(var e=0,n=1;t*n%1!=0;)e++,n*=10;return e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},arrayRemove:function(t,n){e(i.isArray(t),"invalid array: ".concat(t));var r=t.indexOf(n);e(r>=0,"item, ".concat(n," not found in Array")),t.splice(r,1)},toCamelCase:function(t){return e("string"==typeof t,"invalid str: ".concat(t)),t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},toTitleCase:function(t){return e("string"==typeof t,"invalid str: ".concat(t)),t.split("-").map((function(t){return t.length>0?t[0].toUpperCase()+t.substr(1).toLowerCase():""})).join(" ")},deepFreeze:function(t){return e(n,"StandardSimQueryParameters must be loaded before freezing"),!1===e.enabled||(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){!Object.hasOwnProperty.call(t,e)||"object"!==b(t[e])&&"function"!==t[e]||Object.isFrozen(t[e])||i.deepFreeze(t[e])}))),t}};return i})),r("SIM_CORE/util/Property",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=["string","number","boolean","function"];return function(){function t(r,o){m(this,t),o=Object.assign({type:null,validValues:null,isValidValue:null},o),e(!o.type||i.includes(o.type)||!!o.type.constructor),e(!o.validValues||n.isArray(o.validValues)),e(!o.isValidValue||"function"==typeof o.isValidValue),this._value=r,this._initialValue=r,this._listeners=[],this._isDisposed=!1,this._type=o.type,this._validValues=o.validValues,this._isValidValue=o.isValidValue,this._validateValue(this._initialValue)}return S(t,[{key:"equals",value:function(n){return e(n instanceof t,"invalid other: ".concat(n)),this._equalsValue(this._value,n.value)}},{key:"get",value:function(){return this._value}},{key:"set",value:function(t){var n=this;if(e(!this._isDisposed,"cannot set value of a disposed Property"),!this._equalsValue(this.value,t)){this._validateValue(t);var i=this.get();return this._value=t,this._listeners.forEach((function(t){t(n.get(),i)})),this}}},{key:"toggle",value:function(){return this.set(!this.get()),this}},{key:"getInitialValue",value:function(){return this._initialValue}},{key:"reset",value:function(){return this.set(this._initialValue)}},{key:"link",value:function(t){return this.lazyLink(t),t(this.get()),this}},{key:"lazyLink",value:function(t){return e(!this._isDisposed,"cannot link listener of a disposed Property"),e(!this.hasListener(t),"cannot link the same listener twice: ".concat(t)),this._listeners.push(t),this}},{key:"unlink",value:function(t){return e(this.hasListener(t),"listener was never registered: ".concat(t)),n.arrayRemove(this._listeners,t),this}},{key:"unlinkAll",value:function(){return this._listeners=[],this}},{key:"hasListener",value:function(t){return e("function"==typeof t,"invalid listener: ".concat(t)),this._listeners.includes(t)}},{key:"linkAttribute",value:function(t,n){e(t[n],"object ".concat(t," must have attribute ").concat(n));var i=function(e){t[n]=e};return this.link(i),i}},{key:"dispose",value:function(){return this.unlinkAll(),this._isDisposed=!0,this}},{key:"_equalsValue",value:function(t,e){return t&&e&&t.constructor===e.constructor&&t.equals&&e.equals?t.equals(e):t===e}},{key:"_validateValue",value:function(t){e(!this._type||(i.includes(this._type)?b(t)===this._type:t instanceof this._type),"value ".concat(t," not of type ").concat(this._type)),e(!this._validValues||this._validValues.includes(t),"value ".concat(t," not inside the valid values: ").concat(this._validValues)),e(!this._isValidValue||!0===this._isValidValue(t),"value ".concat(t," did not pass isValidValue: ").concat(this._isValidValue))}},{key:"value",get:function(){return this.get()},set:function(t){this.set(t)}},{key:"initialValue",get:function(){return this.getInitialValue()}}]),t}()})),r("SIM_CORE/util/Multilink",["require","SIM_CORE/util/assert","SIM_CORE/util/Property","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Property"),i=t("SIM_CORE/util/Util");return function(){function t(r,o){var s=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m(this,t),e(i.isArray(r)&&r.every((function(t){return t instanceof n})),"invalid dependencies: ".concat(r)),e("function"==typeof o,"invalid callback: ".concat(o)),e("boolean"==typeof a,"invalid lazy: ".concat(a)),this._dependencies=r,this._isDisposed=!1,this._listener=function(){o.apply(void 0,d(s._dependencies.map((function(t){return t.value}))))},r.forEach((function(t){t.lazyLink(s._listener)})),a||this._listener()}return S(t,[{key:"dispose",value:function(){var t=this;e(!1===this._isDisposed,"A Multilink cannot be disposed twice."),this._dependencies.forEach((function(e){e.unlink(t._listener)})),this._dependencies=null,this._listener=null,this._isDisposed=!0}}],[{key:"lazy",value:function(e,n){return new t(e,n,!0)}}]),t}()})),r("SIM_CORE/util/DerivedProperty",["require","SIM_CORE/util/assert","SIM_CORE/util/Multilink","SIM_CORE/util/Property","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Multilink"),r=t("SIM_CORE/util/Property"),s=t("SIM_CORE/util/Util");return function(t){a(l,t);var c=i(l);function l(t,i,a){var f;m(this,l),e(s.isArray(t)&&t.every((function(t){return t instanceof r})),"invalid dependencies: ".concat(t)),e("function"==typeof i,"invalid derivation: ".concat(i));var y=i.apply(void 0,d(t.map((function(t){return t.value}))));return(f=c.call(this,y,a))._dependenciesMultilink=n.lazy(t,(function(){u(h(l.prototype),"set",o(f)).call(o(f),i.apply(void 0,arguments))})),f._initialValue=null,f}return S(l,[{key:"dispose",value:function(){return this._dependenciesMultilink.dispose(),u(h(l.prototype),"dispose",this).call(this)}},{key:"set",value:function(t){e(!1,"Cannot set values directly to a DerivedProperty, tried to set: "+t)}},{key:"getInitialValue",value:function(){e(!1,"Cannot get the initial value of a DerivedProperty")}}]),l}(r)})),r("HYDRAULIC_LIFTS/model/Lift",["require","SIM_CORE/util/DerivedProperty","SIM_CORE/util/Property"],(function(t){"use strict";var e=t("SIM_CORE/util/DerivedProperty"),n=t("SIM_CORE/util/Property");return function(){function t(i,r){m(this,t),r=Object.assign({initialForce:0,initialRadius:1},r),this.liftCenterX=i,this.forceProperty=new n(r.initialForce,{type:"number",isValidValue:function(t){return t>=0}}),this.radiusProperty=new n(r.initialRadius,{type:"number",isValidValue:function(t){return t>0}}),this.areaProperty=new e([this.radiusProperty],(function(t){return Math.PI*t*t}))}return S(t,[{key:"reset",value:function(){this.forceProperty.reset(),this.radiusProperty.reset()}},{key:"area",get:function(){return this.areaProperty.value}},{key:"centerX",get:function(){return this.liftCenterX}},{key:"force",get:function(){return this.forceProperty.value},set:function(t){this.forceProperty.value=t}},{key:"radius",get:function(){return this.radiusProperty.value},set:function(t){this.radiusProperty.value=t}}]),t}()})),r("SIM_CORE/util/Range",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n,i){m(this,t),e("number"==typeof n,"invalid min: ".concat(n)),e("number"==typeof i,"invalid max: ".concat(i)),this._min=n,this._max=i}return S(t,[{key:"toString",value:function(){return"Range[ min: ".concat(this._min,", max: ").concat(this._max," ]")}},{key:"equals",value:function(e){return e instanceof t&&this.min===e.min&&this.max===e.max}},{key:"equalsEpsilon",value:function(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EPSILON;return e instanceof t&&["min","max"].every((function(t){return isFinite(i[t])&&isFinite(e[t])?Math.abs(i[t]-e[t])<=r:e[t]===i[t]}))}},{key:"getMin",value:function(){return this._min}},{key:"getMax",value:function(){return this._max}},{key:"getLength",value:function(){return this.max-this.min}},{key:"getCenter",value:function(){return(this._max+this._min)/2}},{key:"isFinite",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.min)&&isFinite(this.max)}))},{key:"isEmpty",value:function(){return 0===this.getLength()}},{key:"contains",value:function(t){return t>=this._min&&t<=this._max}},{key:"closestTo",value:function(t){return e("number"==typeof t,"invalid value: ".concat(t)),this.contains(t)?t:Math.max(Math.min(t,this.max),this.min)}},{key:"containsRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this._min<=n.min&&this._max>=n.max}},{key:"intersects",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this._max>=n.min&&n.max>=this._min}},{key:"copy",value:function(){return new t(this.min,this.max)}},{key:"union",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),new t(Math.min(this.min,n.min),Math.max(this.max,n.max))}},{key:"intersection",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),new t(Math.max(this.min,n.min),Math.min(this.max,n.max))}},{key:"setMin",value:function(t){return e("number"==typeof t,"invalid min: ".concat(t)),this._min=t,this}},{key:"setMax",value:function(t){return e("number"==typeof t,"invalid max: ".concat(t)),this._max=t,this}},{key:"setMinMax",value:function(t,e){return this.setMin(t),this.setMax(e),this}},{key:"roundSymmetric",value:function(){return this.setMinMax(n.roundSymmetric(this.min),n.roundSymmetric(this.max))}},{key:"dilate",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(t,t)}},{key:"erode",value:function(t){return this.dilate(-t)}},{key:"expand",value:function(t,n){return e("number"==typeof t,"invalid min: ".concat(t)),e("number"==typeof n,"invalid max: ".concat(n)),this.setMinMax(this.min-t,this.max+n)}},{key:"shift",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(-t,t)}},{key:"includeRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this.setMinMax(Math.min(this.min,n.min),Math.max(this.max,n.max))}},{key:"intersectRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this.setMinMax(Math.max(this.min,n.min),Math.min(this.max,n.max))}},{key:"min",get:function(){return this.getMin()},set:function(t){this.setMin(t)}},{key:"max",get:function(){return this.getMax()},set:function(t){this.setMax(t)}},{key:"length",get:function(){return this.getLength()}},{key:"center",get:function(){return this.getCenter()}}]),t}();return i.ZERO=n.deepFreeze(new i(0,0)),i.EVERYTHING=n.deepFreeze(new i(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),i})),r("HYDRAULIC_LIFTS/model/InputLift",["require","HYDRAULIC_LIFTS/model/Lift","SIM_CORE/util/Range"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/model/Lift"),n=t("SIM_CORE/util/Range"),r=new n(0,5),o=new n(1,3);return function(t){a(n,t);var e=i(n);function n(t,i){var s;return m(this,n),i=Object.assign({},i),(s=e.call(this,t,i)).radiusRange=o,s.forceRange=r,s}return n}(e)})),r("HYDRAULIC_LIFTS/model/OutputLift",["require","HYDRAULIC_LIFTS/model/Lift","SIM_CORE/util/Multilink","SIM_CORE/util/Range"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/model/Lift"),n=t("SIM_CORE/util/Multilink"),r=new(t("SIM_CORE/util/Range"))(5,7);return function(t){a(o,t);var e=i(o);function o(t,i,s){var a;return m(this,o),s=Object.assign({initialRadius:5},s),(a=e.call(this,i,s)).radiusRange=r,new n([t.areaProperty,t.forceProperty,a.areaProperty],(function(t,e,n){a.force=n/t*e})),a}return o}(e)})),r("HYDRAULIC_LIFTS/model/Container",["require","HYDRAULIC_LIFTS/model/InputLift","HYDRAULIC_LIFTS/model/OutputLift"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/model/InputLift"),n=t("HYDRAULIC_LIFTS/model/OutputLift");return function(){function t(){m(this,t),this.inputLift=new e(-4),this.outputLift=new n(this.inputLift,12)}return S(t,[{key:"reset",value:function(){this.inputLift.reset(),this.outputLift.reset()}}]),t}()})),r("HYDRAULIC_LIFTS/model/HydraulicLiftsModel",["require","HYDRAULIC_LIFTS/model/Container"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/model/Container");return function t(){m(this,t),this.container=new e}})),r("SIM_CORE/util/Vector",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n,i){m(this,t),e("number"==typeof n,"invalid x: ".concat(n)),e("number"==typeof i,"invalid y: ".concat(i)),this._x=n,this._y=i}return S(t,[{key:"getX",value:function(){return this._x}},{key:"getY",value:function(){return this._y}},{key:"copy",value:function(){return new t(this._x,this._y)}},{key:"toString",value:function(){return"Vector[ x: ".concat(this._x,", y: ").concat(this._y," ]")}},{key:"equals",value:function(e){return e instanceof t&&this._x===e.x&&this._y===e.y}},{key:"equalsEpsilon",value:function(i){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EPSILON;return e(i instanceof t&&"number"==typeof o),["x","y"].every((function(t){return isFinite(r[t])&&isFinite(i[t])?Math.abs(r[t]-i[t])<=o:i[t]===r[t]}))}},{key:"getMagnitude",value:function(){return Math.sqrt(this.dot(this))}},{key:"dot",value:function(t){return this.dotXY(t.x,t.y)}},{key:"dotXY",value:function(t,e){return this.x*t+this.y*e}},{key:"distanceToXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),Math.sqrt(Math.pow(this._x-t,2)+Math.pow(this._y-n,2))}},{key:"distanceTo",value:function(n){return e(n instanceof t,"invalid point: ".concat(n)),this.distanceToXY(n.x,n.y)}},{key:"angleBetween",value:function(t){return Math.acos(this.dot(t)/(this.magnitude*t.magnitude))}},{key:"getAngle",value:function(){return Math.atan2(this._y,this._x)}},{key:"isFinite",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this._x)&&isFinite(this._y)}))},{key:"setX",value:function(t){return e("number"==typeof t,"invalid x: ".concat(t)),this._x=t,this}},{key:"setY",value:function(t){return e("number"==typeof t,"invalid y: ".concat(t)),this._y=t,this}},{key:"set",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.setX(n.x).setY(n.y)}},{key:"setXY",value:function(t,e){return this.setX(t).setY(e)}},{key:"roundSymmetric",value:function(){return this.setXY(n.roundSymmetric(this.x),n.roundSymmetric(this.y))}},{key:"multiply",value:function(t){return e("number"==typeof t,"invalid scalar: ".concat(t)),this.setXY(this._x*t,this._y*t)}},{key:"componentMultiply",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.setXY(this._x*n.x,this._y*n.y)}},{key:"negate",value:function(){return this.multiply(-1)}},{key:"divide",value:function(t){return this.multiply(1/t)}},{key:"addXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.setXY(this._x+t,this._y+n)}},{key:"add",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.addXY(n.x,n.y)}},{key:"subtractXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.setXY(this._x-t,this._y-n)}},{key:"subtract",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.subtractXY(n.x,n.y)}},{key:"normalize",value:function(){var t=this.magnitude;if(0!==t)return this.divide(t);e(!1,"Cannot normalize a zero-magnitude vector")}},{key:"setAngle",value:function(t){e("number"==typeof t,"invalid angle: ".concat(t));var n=this.getMagnitude();return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this}},{key:"rotate",value:function(t){return this.setAngle(t+this.angle)}},{key:"rotateAboutXY",value:function(t,e,n){var i=this.x-t,r=this.y-e,o=Math.cos(n),s=Math.sin(n);return this.x=t+i*o-r*s,this.y=e+i*s+r*o,this}},{key:"rotateAboutPoint",value:function(t,e){return this.rotateAboutXY(t.x,t.y,e)}},{key:"x",get:function(){return this.getX()},set:function(t){this.setX(t)}},{key:"y",get:function(){return this.getY()},set:function(t){this.setY(t)}},{key:"magnitude",get:function(){return this.getMagnitude()}},{key:"angle",get:function(){return this.getAngle()},set:function(t){this.setAngle(t)}}]),t}();return i.ZERO=n.deepFreeze(new i(0,0)),i.scratch=i.ZERO.copy(),i})),r("SIM_CORE/util/Bounds",["require","SIM_CORE/util/assert","SIM_CORE/util/Range","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Range"),i=t("SIM_CORE/util/Util"),r=t("SIM_CORE/util/Vector"),o=function(){function t(i,r,o,s){m(this,t),e("number"==typeof i,"invalid minX: ".concat(i)),e("number"==typeof r,"invalid minY: ".concat(r)),e("number"==typeof o,"invalid maxX: ".concat(o)),e("number"==typeof s,"invalid maxY: ".concat(s)),this.xRange=new n(i,o),this.yRange=new n(r,s)}return S(t,[{key:"toString",value:function(){return"Bounds[ min:( ".concat(this.minX,", ").concat(this.minY," ), max:( ").concat(this.maxX,", ").concat(this.maxY,") ]")}},{key:"equals",value:function(e){return e instanceof t&&this.xRange.equals(e.xRange)&&this.yRange.equals(e.yRange)}},{key:"equalsEpsilon",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.EPSILON;return e instanceof t&&(this.xRange.equalsEpsilon(e.xRange,n)&&this.yRange.equalsEpsilon(e.yRange,n))}},{key:"getMinX",value:function(){return this.xRange.min}},{key:"getMinY",value:function(){return this.yRange.min}},{key:"getMaxX",value:function(){return this.xRange.max}},{key:"getMaxY",value:function(){return this.yRange.max}},{key:"getWidth",value:function(){return this.xRange.length}},{key:"getHeight",value:function(){return this.yRange.length}},{key:"getLeft",value:function(){return this.minX}},{key:"getTop",value:function(){return this.maxY}},{key:"getRight",value:function(){return this.maxX}},{key:"getBottom",value:function(){return this.minY}},{key:"getTopLeft",value:function(){return new r(this.minX,this.maxY)}},{key:"getTopCenter",value:function(){return new r(this.getCenterX(),this.maxY)}},{key:"getTopRight",value:function(){return new r(this.maxX,this.maxY)}},{key:"getCenterLeft",value:function(){return new r(this.minX,this.getCenterY())}},{key:"getCenterRight",value:function(){return new r(this.maxX,this.getCenterY())}},{key:"getBottomLeft",value:function(){return new r(this.minX,this.minY)}},{key:"getBottomCenter",value:function(){return new r(this.getCenterX(),this.minY)}},{key:"getBottomRight",value:function(){return new r(this.maxX,this.minY)}},{key:"getCenter",value:function(){return new r(this.getCenterX(),this.getCenterY())}},{key:"getCenterX",value:function(){return this.xRange.center}},{key:"getCenterY",value:function(){return this.yRange.center}},{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"isFinite",value:function(){return this.xRange.isFinite()&&this.yRange.isFinite()}},{key:"isEmpty",value:function(){return 0===this.getArea()}},{key:"containsCoordinates",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.xRange.contains(t)&&this.yRange.contains(n)}},{key:"containsPoint",value:function(t){return e(t instanceof r,"invalid point: ".concat(t)),this.containsCoordinates(t.x,t.y)}},{key:"closestPointTo",value:function(t){return e(t instanceof r,"invalid location: ".concat(t)),new r(this.xRange.closestTo(t.x),this.yRange.closestTo(t.y))}},{key:"containsBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.containsRange(n.xRange)&&this.yRange.containsRange(n.yRange)}},{key:"intersectsBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.intersects(n.xRange)&&this.yRange.intersects(n.yRange)}},{key:"copy",value:function(){return new t(this.minX,this.minY,this.maxX,this.maxY)}},{key:"union",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),t.withRanges(this.xRange.union(n.xRange),this.yRange.union(n.yRange))}},{key:"intersection",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),t.withRanges(this.xRange.intersection(n.xRange),this.yRange.intersection(n.yRange))}},{key:"setMinX",value:function(t){return e("number"==typeof t,"invalid minX: ".concat(t)),this.xRange.min=t,this}},{key:"setMinY",value:function(t){return e("number"==typeof t,"invalid minY: ".concat(t)),this.yRange.min=t,this}},{key:"setMaxX",value:function(t){return e("number"==typeof t,"invalid maxX: ".concat(t)),this.xRange.max=t,this}},{key:"setMaxY",value:function(t){return e("number"==typeof t,"invalid maxY: ".concat(t)),this.yRange.max=t,this}},{key:"setAll",value:function(t,e,n,i){return this.xRange.setMinMax(t,n),this.yRange.setMinMax(e,i),this}},{key:"set",value:function(t){return this.setAll(t.minX,t.minY,t.maxX,t.maxY)}},{key:"roundSymmetric",value:function(){return this.xRange.roundSymmetric(),this.yRange.roundSymmetric(),this}},{key:"dilate",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(t,t,t,t)}},{key:"erode",value:function(t){return this.dilate(-t)}},{key:"expand",value:function(t,n,i,r){return e("number"==typeof t,"invalid left: ".concat(t)),e("number"==typeof n,"invalid bottom: ".concat(n)),e("number"==typeof i,"invalid right: ".concat(i)),e("number"==typeof r,"invalid top: ".concat(r)),this.xRange.expand(t,i),this.yRange.expand(n,r),this}},{key:"shift",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.xRange.shift(t),this.yRange.shift(n),this}},{key:"includePoint",value:function(t){return e(t instanceof r&&t.isFinite(),"invalid point: ".concat(t)),this.setAll(Math.min(this.minX,t.x),Math.min(this.minY,t.y),Math.max(this.maxX,t.x),Math.max(this.maxY,t.y))}},{key:"includeBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.includeRange(n.xRange),this.yRange.includeRange(n.yRange),this}},{key:"intersectBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.intersectRange(n.xRange),this.yRange.intersectRange(n.yRange),this}},{key:"minX",get:function(){return this.getMinX()},set:function(t){this.setMinX(t)}},{key:"minY",get:function(){return this.getMinY()},set:function(t){this.setMinY(t)}},{key:"maxX",get:function(){return this.getMaxX()},set:function(t){this.setMaxX(t)}},{key:"maxY",get:function(){return this.getMaxY()},set:function(t){this.setMaxY(t)}},{key:"width",get:function(){return this.getWidth()}},{key:"height",get:function(){return this.getHeight()}},{key:"left",get:function(){return this.getLeft()}},{key:"top",get:function(){return this.getTop()}},{key:"right",get:function(){return this.getRight()}},{key:"bottom",get:function(){return this.getBottom()}},{key:"topLeft",get:function(){return this.getTopLeft()}},{key:"topCenter",get:function(){return this.getTopCenter()}},{key:"topRight",get:function(){return this.getTopRight()}},{key:"centerLeft",get:function(){return this.getCenterLeft()}},{key:"centerRight",get:function(){return this.getCenterRight()}},{key:"bottomLeft",get:function(){return this.getBottomLeft()}},{key:"bottomCenter",get:function(){return this.getBottomCenter()}},{key:"bottomRight",get:function(){return this.getBottomRight()}},{key:"center",get:function(){return this.getCenter()}},{key:"centerX",get:function(){return this.getCenterX()}},{key:"centerY",get:function(){return this.getCenterY()}},{key:"area",get:function(){return this.getArea()}}],[{key:"rect",value:function(e,n,i,r){return new t(e,n,e+i,n+r)}},{key:"withPoints",value:function(e,n){return new t(e.x,e.y,n.x,n.y)}},{key:"withRanges",value:function(i,r){return e(i instanceof n,"invalid xRange: ".concat(i)),e(r instanceof n,"invalid yRange: ".concat(r)),new t(i.min,r.min,i.max,r.max)}}]),t}();return o.ZERO=i.deepFreeze(new o(0,0,0,0)),o.EVERYTHING=i.deepFreeze(new o(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)),o.scratch=o.ZERO.copy(),o})),r("SIM_CORE/core-internal/DOMObject",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n){m(this,t),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n));var i={type:"div",style:{padding:0,margin:0,boxSizing:"border-box",position:"relative"},text:null,id:null,class:null,src:null,href:null,attributes:null};(n=Object.assign({},i,{},n)).style=Object.assign({},i.style,{},n.style),e("string"==typeof n.type,"invalid options.type: ".concat(n.type)),this._type=n.type,this._id=n.id,this._class=n.class,this._src=n.src,this._href=n.href,this._text=n.text,this._children=[],this._isDisposed=!1,this._element=t.SVG_TYPES.includes(this._type)?document.createElementNS(t.SVG_NAMESPACE,this._type):document.createElement(this._type),this._textNode=document.createTextNode(this._text||""),this._element.appendChild(this._textNode),this._parent=null,n.attributes&&this.addAttributes(n.attributes),n.style&&this.addStyles(n.style),this.setAttribute("id",this._id),this.setAttribute("class",this._class),this._text&&this.setText(this._text),this.setAttribute("src",this._src),this.setAttribute("href",this._href)}return S(t,[{key:"setAttribute",value:function(t,n){return e(!t||"string"==typeof t,"invalid name: ".concat(t)),["id","class","src","href"].includes(t)?(n&&e("src"!==t||"img"===this._type,"cannot set 'src' for type: ".concat(this._type)),n&&e("href"!==t||"a"===this._type,"cannot set 'href' for type: ".concat(this._type)),this["_".concat(t)]=n,this["_".concat(t)]?this._element.setAttribute(t,n):this._element.removeAttribute(t)):this._element.setAttribute(t,n),this}},{key:"setText",value:function(t){return e(!t||"string"==typeof t,"invalid text: ".concat(t)),this._text=t,this._textNode.textContent=this._text,this}},{key:"addChild",value:function(n){return e(n instanceof t,"invalid child: ".concat(n)),e(!this.hasChild(n),"cannot add child that is already a child."),e(n!==this,"cannot add self as a child"),e(!n._isDisposed,"Tried to add a disposed DOMObject"),this._children.push(n),n._parent=this,this._element.appendChild(n.element),this}},{key:"setChildren",value:function(n){var i=this;return n.every((function(t,e){return i._children[e]===t}))||(e(Array.isArray(n)&&n.every((function(e){return e instanceof t})),"invalid children: ".concat(n)),this.removeAllChildren(),n.forEach((function(t){return i.addChild(t)}))),this}},{key:"removeChild",value:function(t){return e(this.hasChild(t),"Attempted to removeChild with a DOMObject that was not a child."),n.arrayRemove(this.children,t),this._element.removeChild(t.element),t._parent=null,this}},{key:"removeAllChildren",value:function(){return d(this._children).forEach(this.removeChild.bind(this)),this}},{key:"hasChild",value:function(n){return e(n instanceof t,"invalid potentialChild: ".concat(n)),this._children.includes(n)&&n.parent===this}},{key:"moveChildToIndex",value:function(t,i){if(e(this.hasChild(t),"invalid child: ".concat(t)),e("number"==typeof i&&i%1==0&&i>=0&&i<this._children.length,"invalid index: ".concat(i)),this._children[i]!==t){var r=i<this._children.length-1?this._children[i].element:null;this.element.insertBefore(t.element,r),n.arrayRemove(this._children,t),this._children.splice(i,0,t)}return this}},{key:"moveToFront",value:function(){if(this._parent)return this._parent.moveChildToIndex(this,this._parent.children.length-1)}},{key:"moveToBack",value:function(){if(this._parent)return this._parent.moveChildToIndex(this,0)}},{key:"addStyles",value:function(n){return e(Object.getPrototypeOf(n)===Object.prototype,"invalid style object: ".concat(n)),t.addElementStyles(this._element,n),this}},{key:"addAttributes",value:function(t){var n=this;return e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid attributes object: ".concat(t)),Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),this}},{key:"dispose",value:function(){return this._isDisposed=!0,this.removeAllChildren(),this._parent&&this._parent.removeChild(this),this}},{key:"element",get:function(){return this._element}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this._id},set:function(t){this.setAttribute("id",t)}},{key:"class",get:function(){return this._class},set:function(t){this.setAttribute("class",t)}},{key:"text",get:function(){return this._text},set:function(t){this.setText(t)}},{key:"src",get:function(){return this._src},set:function(t){this.setAttribute("src",t)}},{key:"href",get:function(){return this._href},set:function(t){this.setAttribute("href",t)}},{key:"children",get:function(){return this._children},set:function(t){this.setChildren(t)}},{key:"parent",get:function(){return this._parent}},{key:"isDisposed",get:function(){return this._isDisposed}},{key:"style",get:function(){return this._element.style}}],[{key:"addElementStyles",value:function(t,n){e(t instanceof Element||t instanceof HTMLElement,"invalid element: ".concat(t)),e(Object.getPrototypeOf(n)===Object.prototype,"invalid style object: ".concat(n));var i=function(e){return void 0!==t.style[e]},r=function(e,i){t.style[e]=n[i]};Object.keys(n).forEach((function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);i(t)?r(t,t):i("moz".concat(e))?r("moz".concat(e),t):i("Moz".concat(e))?r("Moz".concat(e),t):i("MozOsx".concat(e))?r("MozOsx".concat(e),t):i("webkit".concat(e))?r("webkit".concat(e),t):i("ms".concat(e))?r("ms".concat(e),t):i("o".concat(e))&&r("o".concat(e),t)}))}}]),t}();return i.SVG_TYPES=["svg","g","rect","circle","ellipse","line","path","polygon","text","image","defs","stop","radialGradient","linearGradient"],i.SVG_NAMESPACE="http://www.w3.org/2000/svg",i})),r("SIM_CORE/scenery/gradients/Gradient",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),i=1,r=function(){function t(r){m(this,t),e("linearGradient"===r||"radialGradient"===r,"invalid type: ".concat(r)),this.constructor===t&&e(!1,"Abstract class Gradient cannot be instantiated directly."),t._SVGElement||t._initializeGradientDOMObjects(),this._id="scenery-gradient-".concat(i++),this._definitionElement=new n({id:this._id,type:r}),this._lastStopPercentage=0,t._embededDefsElement.addChild(this._definitionElement)}return S(t,[{key:"addColorStop",value:function(t,i){e("string"==typeof t,"invalid color: ".concat(t)),e("number"==typeof i&&i>=0,"invalid percentage: ".concat(i)),e(0===this._lastStopPercentage||i>this._lastStopPercentage,"gradient stop percentages must be monotonically increasing"),this._lastStopPercentage=i;var r=new n({type:"stop",attributes:{offset:"".concat(i,"%"),"stop-color":t}});return this._definitionElement.addChild(r),this}},{key:"dispose",value:function(){this._definitionElement.dispose()}},{key:"SVGGradientString",get:function(){return"url(#".concat(this._id,")")}}],[{key:"_initializeGradientDOMObjects",value:function(){t._SVGElement=new n({type:"svg",id:"scenery-gradients",style:{opacity:0,position:"absolute",left:"-65535px",top:"-65535px",width:0,hegiht:0}}),document.body.appendChild(t._SVGElement.element),t._embededDefsElement=new n({type:"defs"}),t._SVGElement.addChild(t._embededDefsElement)}}]),t}();return r._SVGElement,r._embededDefsElement,r})),r("SIM_CORE/scenery/ScreenView",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/core-internal/DOMObject"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=function(t){a(s,t);var r=i(s);function s(t){var i;return m(this,s),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style,"ScreenView sets style."),e(!t||!t.type,"ScreenView sets type."),e(!t||!t.text,"ScreenView should not have text"),e(!(t&&t.id&&t.class&&t.attributes),"ScreenView sets attributes"),(t=Object.assign({layoutBounds:new n(0,0,1024,618)},t)).type="svg",i=r.call(this,t),s._instances.push(o(i)),i.layoutBounds=Object.freeze(t.layoutBounds),i.layoutScale,i}return S(s,[{key:"addChild",value:function(t){return u(h(s.prototype),"addChild",this).call(this,t),t.layout(this.layoutScale),this}},{key:"layout",value:function(t,e){var n=this;this.layoutScale=Math.min(t/this.layoutBounds.width,e/this.layoutBounds.height),this.style.width="".concat(this.layoutScale*this.layoutBounds.width,"px"),this.style.height="".concat(this.layoutScale*this.layoutBounds.height,"px"),this.children.forEach((function(t){t.layout(n.layoutScale)}))}}],[{key:"enableDevBorder",value:function(){s._instances.forEach((function(t){t.style.border="2px solid red"}))}}]),s}(t("SIM_CORE/core-internal/DOMObject"));return r._instances=[],r})),r("SIM_CORE/scenery/Node",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=t("SIM_CORE/core-internal/DOMObject"),o=t("SIM_CORE/scenery/ScreenView"),s=t("SIM_CORE/util/Util"),c=t("SIM_CORE/util/Vector"),l=function(t){a(d,t);var l=i(d);function d(t){var i;m(this,d),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style||!t.style.position,"Node sets position"),e(!t||!t.style||!t.style.transformOrigin,"Node sets transformOrigin"),e(!t||!t.type||r.SVG_TYPES.includes(t.type),"Must be an SVG sub-type.");var o={type:"g",children:[],cursor:null,visible:!0,opacity:1,maxWidth:null,maxHeight:null,translation:null,rotation:0,scale:1,topLeft:null,topCenter:null,topRight:null,centerLeft:null,center:null,centerRight:null,bottomLeft:null,bottomCenter:null,bottomRight:null,left:null,right:null,top:null,bottom:null,centerX:null,centerY:null,width:null,height:null};return(t=Object.assign({},o,{},t)).style=Object.assign({},o.style,{},t.style),(i=l.call(this,t))._visible,i._opacity,i._cursor,i._maxWidth,i._maxHeight,i._rotation,i._scalar,i._bounds=n.ZERO.copy(),i.screenViewScale,t&&i.mutate(t),i}return S(d,[{key:"mutate",value:function(t){var n=this;e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(this.constructor.X_BOUNDS_MUTATORS.filter((function(e){return t[e]})).length<=1,"more than 1 x-mutator"),e(this.constructor.Y_BOUNDS_MUTATORS.filter((function(e){return t[e]})).length<=1,"more than 1 y-mutator"),this.constructor.MUTATOR_KEYS.forEach((function(e){null!==t[e]&&void 0!==t[e]&&("function"==typeof n[e]?n[e](t[e]):n[e]=t[e])}))}},{key:"setLocation",value:function(t,n){return e("string"==typeof t,"invalid name: ".concat(t)),e(this._bounds.isFinite(),"Cannot set ".concat(t," when the Node has invalid (empty/NaN/infinite) bounds.")),["left","right","centerX"].includes(t)?(e(isFinite(n),"".concat(t," should be finite.")),this.translate(c.scratch.setXY(n-this[t],0))):["top","bottom","centerY"].includes(t)?(e(isFinite(n),"".concat(t," should be finite.")),this.translate(c.scratch.setXY(0,n-this[t]))):(e(n instanceof c&&n.isFinite(),"".concat(t," should be a finite Vector")),void this.translate(c.scratch.set(n).subtract(this[t])))}},{key:"scale",value:function(t){if(t instanceof c){e(t.isFinite(),"invalid scale: ".concat(t)),this._scalar?this._scalar instanceof c?this._scalar.componentMultiply(t):this._scalar=t.x===t.y?this._scalar*t.x:t.copy().multiply(this._scalar):this._scalar=t.x===t.y?t.x:t.copy();var n=this.width/2*(t.x-1),i=this.height/2*(t.y-1);(n||i)&&this._bounds.expand(n,i,n,i),this._updateMaxDimension(),this.layout(this.screenViewScale)}else this.scale(c.scratch.setXY(t,t))}},{key:"translate",value:function(t){e(t instanceof c&&t.isFinite(),"invalid translation: ".concat(t)),0===t.x&&0===t.y||(this._bounds.shift(t.x,t.y),this.parent instanceof d&&this.parent._recomputeAncestorBounds(),this.layout(this.screenViewScale))}},{key:"rotate",value:function(t){0!==t&&(this.rotation=this.rotation+t)}},{key:"_updateMaxDimension",value:function(){if(this.parent instanceof d&&this.parent._recomputeAncestorBounds(),this.maxHeight&&this.height>this.maxHeight||this.maxWidth&&this.width>this.maxWidth){var t=Math.min(this._maxWidth?this._maxWidth/this.width:1,this._maxHeight?this._maxHeight/this.height:1);this.scale(t)}}},{key:"layout",value:function(t){if(t){e.enabled&&(e(this.bounds.isFinite(),"bounds are not finite."),e(!this.parent||this._computeGlobalBounds(n.scratch).isFinite(),"globalBounds not finite."));var i=(this._scalar instanceof c?this._scalar.x:this._scalar).toFixed(10),r=(this._scalar instanceof c?this._scalar.y:this._scalar).toFixed(10),o=s.toDegrees(this.rotation).toFixed(10),a=(this._bounds.minX*t).toFixed(10),u=(this._bounds.minY*t).toFixed(10),l=(this.width*t).toFixed(10),h=(this.height*t).toFixed(10),d="translate( ".concat(a," ").concat(u," )")+" rotate( ".concat(o," ").concat(l/2," ").concat(h/2," )")+" scale( ".concat(i," ").concat(r," )");this.setAttribute("transform",d),this.screenViewScale=t,this.children.forEach((function(e){e.layout(t)}))}}},{key:"addChild",value:function(t){return e(t instanceof d,"invalid child: ".concat(t)),u(h(d.prototype),"addChild",this).call(this,t),this._recomputeAncestorBounds(),this.layout(this.screenViewScale),this}},{key:"removeChild",value:function(t){return e(t instanceof d,"invalid child: ".concat(t)),u(h(d.prototype),"removeChild",this).call(this,t),this._recomputeAncestorBounds(),this.layout(this.screenViewScale),this}},{key:"_recomputeAncestorBounds",value:function(){var t=n.scratch.set(n.ZERO);this.children.forEach((function(e){t.includeBounds(e.bounds)}));var e=this.children.length&&(t.minX<0||t.minY<0);e&&this.children.forEach((function(e){e.bounds.shift(Math.max(-t.minX,0),Math.max(-t.minY,0))}));var i=t.shift(this.left,this.top);this._bounds.set(i.includePoint(e?this.bottomRight:this.topLeft)),!this.parent||this.parent instanceof o||this.parent._recomputeAncestorBounds()}},{key:"_computeGlobalBounds",value:function(t){if(this.parent instanceof o)return this._bounds;var e=this.parent._computeGlobalBounds(t);return e&&e.isFinite()?t.setAll(e.minX+this.left,e.minY+this.top,e.minX+this.left+this.width,e.minY+this.top+this.height):void 0}},{key:"bounds",get:function(){return this._bounds}},{key:"parentBounds",get:function(){return this._bounds}},{key:"globalBounds",get:function(){return this._computeGlobalBounds(n.ZERO.copy())}},{key:"localBounds",get:function(){return this._bounds.copy().shift(-this.left,-this.top)}},{key:"topLeft",get:function(){return this._bounds.bottomLeft},set:function(t){this.setLocation("topLeft",t)}},{key:"topCenter",get:function(){return this._bounds.bottomCenter},set:function(t){this.setLocation("topCenter",t)}},{key:"topRight",get:function(){return this._bounds.bottomRight},set:function(t){this.setLocation("topRight",t)}},{key:"centerLeft",get:function(){return this._bounds.centerLeft},set:function(t){this.setLocation("centerLeft",t)}},{key:"center",get:function(){return this._bounds.center},set:function(t){this.setLocation("center",t)}},{key:"centerX",get:function(){return this._bounds.center.x},set:function(t){this.setLocation("centerX",t)}},{key:"centerY",get:function(){return this._bounds.center.y},set:function(t){this.setLocation("centerY",t)}},{key:"centerRight",get:function(){return this._bounds.centerRight},set:function(t){this.setLocation("centerRight",t)}},{key:"bottomLeft",get:function(){return this._bounds.topLeft},set:function(t){this.setLocation("bottomLeft",t)}},{key:"bottomCenter",get:function(){return this._bounds.topCenter},set:function(t){this.setLocation("bottomCenter",t)}},{key:"bottomRight",get:function(){return this._bounds.topRight},set:function(t){this.setLocation("bottomRight",t)}},{key:"left",get:function(){return this._bounds.minX},set:function(t){this.setLocation("left",t)}},{key:"right",get:function(){return this._bounds.maxX},set:function(t){this.setLocation("right",t)}},{key:"top",get:function(){return this._bounds.minY},set:function(t){this.setLocation("top",t)}},{key:"bottom",get:function(){return this._bounds.maxY},set:function(t){this.setLocation("bottom",t)}},{key:"width",get:function(){return this._bounds.width},set:function(t){t!==this._bounds.width&&(e("number"==typeof t&&isFinite(t)&&t>=0,"invalid width: ".concat(t)),this._bounds.maxX=this._bounds.minX+t,this._updateMaxDimension())}},{key:"height",get:function(){return this._bounds.height},set:function(t){t!==this._bounds.height&&(e("number"==typeof t&&isFinite(t)&&t>=0,"invalid height: ".concat(t)),this._bounds.maxY=this._bounds.minY+t,this._updateMaxDimension())}},{key:"visible",get:function(){return this._visible},set:function(t){t!==this._visible&&(e("boolean"==typeof t,"invaid visible: ".concat(t)),this._visible=t,this.style.opacity=this._visible?this._opacity:0)}},{key:"opacity",get:function(){return this._opacity},set:function(t){t!==this._opacity&&(e("number"==typeof t&&t>=0&&t<=1,"invaid opacity: ".concat(t)),this._opacity=t,this.style.opacity=this._visible?this._opacity:0)}},{key:"cursor",get:function(){return this._cursor},set:function(t){t!==this._cursor&&(e("string"==typeof t||null===t,"invalid cursor: ".concat(t)),this._cursor="auto"===t?null:t,this.style.cursor=this._cursor)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){e(!t||"number"==typeof t&&t>0,"invalid maxWidth: ".concat(t)),this._maxWidth!==t&&(this._maxWidth=t,this._updateMaxDimension())}},{key:"maxHeight",get:function(){return this._maxHeight},set:function(t){e(!t||"number"==typeof t&&t>0,"invalid maxHeight: ".concat(t)),this._maxHeight!==t&&(this._maxHeight=t,this._updateMaxDimension())}},{key:"scalar",get:function(){return this._scalar},set:function(t){if(t instanceof c){if(this._scalar instanceof c&&this._scalar.equals(t))return;if(t.x===this._scalar&&t.y===this._scalar)return;var e=this._scalar instanceof c?this._scalar.x:this._scalar,n=this._scalar instanceof c?this._scalar.y:this._scalar;this.scale(c.scratch.setXY(t.x/e,t.y/n))}else this.scalar=c.scratch.setXY(t,t)}},{key:"translation",get:function(){return this.topLeft},set:function(t){e(t instanceof c,"invalid translation: ".concat(t)),this.translation.equals(t)||(this.topLeft=t)}},{key:"rotation",get:function(){return this._rotation},set:function(t){e("number"==typeof t&&isFinite(t),"invalid rotation: ".concat(t)),this._rotation!==t&&(this._rotation=t,this.layout(this.screenViewScale))}}]),d}(r);return l.X_BOUNDS_MUTATORS=["left","right","centerX","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight"],l.Y_BOUNDS_MUTATORS=["top","bottom","centerY","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight"],l.MUTATOR_KEYS=["children","opacity","cursor","visible","rotation","width","height","scale","maxWidth","maxHeight","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight","left","right","centerX","top","bottom","centerY"],l})),r("SIM_CORE/util/ModelViewTransform",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),i=t("SIM_CORE/util/Vector"),r=function(t,e){return n.withPoints(t,e)};return function(){function t(i,r){m(this,t),e(i instanceof n,"invalid modelBounds: ".concat(i)),e(r instanceof n,"invalid viewBounds: ".concat(r)),e(i.isFinite()&&i.area>0,"modelBounds must be finite and have a positive area"),e(r.isFinite()&&r.area>0,"viewBounds must be finite and have a positive area"),this._xScale=i.width/r.width,this._yScale=-i.height/r.height,this._xViewOffset=r.minX-i.minX/this._xScale,this._yViewOffset=r.minY-i.maxY/this._yScale,this._xModelOffset=i.minX-r.minX*this._xScale,this._yModelOffset=i.minY-r.maxY*this._yScale}return S(t,[{key:"modelToViewX",value:function(t){return t/this._xScale+this._xViewOffset}},{key:"modelToViewY",value:function(t){return t/this._yScale+this._yViewOffset}},{key:"modelToViewXY",value:function(t,e){return new i(this.modelToViewX(t),this.modelToViewY(e))}},{key:"modelToViewDeltaX",value:function(t){return t/this._xScale}},{key:"modelToViewDeltaY",value:function(t){return t/this._yScale}},{key:"modelToViewDelta",value:function(t){return new i(this.modelToViewDeltaX(t.x),this.modelToViewDeltaY(t.y))}},{key:"modelToViewPoint",value:function(t){return new i(this.modelToViewX(t.x),this.modelToViewY(t.y))}},{key:"modelToViewBounds",value:function(t){return r(this.modelToViewPoint(t.topLeft),this.modelToViewPoint(t.bottomRight))}},{key:"modelToViewShape",value:function(t){return t.copy().transform(this,"modelToView")}},{key:"viewToModelX",value:function(t){return t*this._xScale+this._xModelOffset}},{key:"viewToModelY",value:function(t){return t*this._yScale+this._yModelOffset}},{key:"viewToModelXY",value:function(t,e){return new i(this.viewToModelX(t),this.viewToModelY(e))}},{key:"viewToModelDeltaX",value:function(t){return t*this._xScale}},{key:"viewToModelDeltaY",value:function(t){return t*this._yScale}},{key:"viewToModelDelta",value:function(t){return new i(this.viewToModelDeltaX(t.x),this.viewToModelDeltaY(t.y))}},{key:"viewToModelPoint",value:function(t){return new i(this.viewToModelX(t.x),this.viewToModelY(t.y))}},{key:"viewToModelBounds",value:function(t){return r(this.viewToModelPoint(t.topLeft),this.viewToModelPoint(t.bottomRight))}},{key:"viewToModelShape",value:function(t){return t.copy().transform(this,"viewToModel")}}]),t}()})),r("SIM_CORE/util/Shape",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/util/ModelViewTransform","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),i=t("SIM_CORE/util/ModelViewTransform"),r=t("SIM_CORE/util/Vector");function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}function s(t,e,n){return n?t>=e?e:e-2*Math.PI:e>=t?e:e+2*Math.PI}return function(){function t(e,n,i,r,o){m(this,t),this._subpaths=e||[],this._firstPoint=i||null,this.currentPoint=n||null,this.bounds=r||null,this.isClosed=o||!1}return S(t,[{key:"moveTo",value:function(t,n){return e("number"==typeof t&&isFinite(t),"invalid x: ".concat(t)),e("number"==typeof n&&isFinite(n),"invalid y: ".concat(n)),this._subpaths.push({cmd:"M",args:[t,n]}),this.currentPoint=this.currentPoint?this.currentPoint.setX(t).setY(n):new r(t,n),this}},{key:"moveToPoint",value:function(t){return this.moveTo(t.x,t.y)}},{key:"moveToRelative",value:function(t,n){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.moveTo(this.currentPoint.x+t,this.currentPoint.y+n)}},{key:"moveToPointRelative",value:function(t){return this.moveToRelative(t.x,t.y)}},{key:"lineTo",value:function(t,i){return e("number"==typeof t&&isFinite(t),"invalid x: ".concat(t)),e("number"==typeof i&&isFinite(i),"invalid y: ".concat(i)),e(!this.isClosed,"cannot add lines to a closed shape"),e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this._firstPoint||(this._firstPoint=this.currentPoint.copy()),this.bounds||(this.bounds=n.withPoints(this.currentPoint,this.currentPoint)),this.bounds.includePoint(this.currentPoint),this._subpaths.push({cmd:"L",args:[t,i]}),this.currentPoint.setX(t).setY(i),this.bounds.includePoint(this.currentPoint),this}},{key:"lineToPoint",value:function(t){return this.lineTo(t.x,t.y)}},{key:"lineToRelative",value:function(t,n){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(this.currentPoint.x+t,this.currentPoint.y+n)}},{key:"lineToPointRelative",value:function(t){return this.lineToRelative(t.x,t.y)}},{key:"horizontalLineTo",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(t,this.currentPoint.y)}},{key:"horizontalLineToRelative",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.horizontalLineTo(this.currentPoint.x+t)}},{key:"verticalLineTo",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(this.currentPoint.x,t)}},{key:"verticalLineToRelative",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.verticalLineTo(this.currentPoint.y+t)}},{key:"close",value:function(){return e(this._firstPoint,"cannot close a Shape that has no drawing points."),e(!this.isClosed,"cannot close a Shape twice."),this._subpaths.push({cmd:"Z"}),this.currentPoint.setX(this._firstPoint.x).setY(this._firstPoint.y),this.bounds.includePoint(this._firstPoint),this.isClosed=!0,this}},{key:"arc",value:function(t,i,a,c){var u=this,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e("number"==typeof i&&isFinite(i)&&i>=0,"invalid radius: ".concat(i)),e("number"==typeof a&&isFinite(a),"invalid startAngle: ".concat(a)),e("number"==typeof c&&isFinite(c),"invalid endAngle: ".concat(c)),e("boolean"==typeof l,"invalid clockwise: ".concat(l)),e(!this.isClosed,"Cannot draw arc on a closed shape"),a=o(a),c=s(a,o(c),l);var h=new r(0,i),d=t.copy().add(h.setAngle(c)),f=t.copy().add(h.setAngle(a)),y=l?a-c:c-a;this.bounds||(this.bounds=n.withPoints(f,f)),this._firstPoint||(this.moveToPoint(f),this._firstPoint=f.copy()),this.currentPoint.equals(f)||this.lineToPoint(f);var p=y>Math.PI?1:0,_=l?0:1;this._subpaths.push({cmd:"A",args:[i,i,0,p,_,d.x,d.y]}),this.currentPoint.set(d),this.bounds.includePoint(f),this.bounds.includePoint(d);var v=function(e){o(l?a-e:c-e)<=y&&u.bounds.includePoint(t.copy().add(h.setAngle(e)))};return v(0),v(Math.PI/2),v(Math.PI),v(3*Math.PI/2),this}},{key:"polygon",value:function(t){e(!this.isClosed,"Shape has already been closed");var n=t.length;if(n>0){this.moveToPoint(t[0]);for(var i=1;i<n;i++)this.lineToPoint(t[i])}return this.close()}},{key:"getSVGPath",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.ZERO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="";return this._subpaths.forEach((function(r){if("M"===r.cmd||"L"===r.cmd){var o=r.args.slice();o[0]=(o[0]+t.x)*n,o[1]=(o[1]+t.y)*n,i+="".concat(r.cmd," ").concat(o.map((function(t){return parseFloat(t.toFixed(10))})).join(" ")," ")}else if("A"===r.cmd){var s=r.args.slice();s[0]=s[0]*n,s[1]=s[1]*n,s[5]=(s[5]+t.x)*n,s[6]=(s[6]+t.y)*n,i+="".concat(r.cmd," ").concat(s.map((function(t){return parseFloat(t.toFixed(10))})).join(" ")," ")}else"Z"===r.cmd?i+="Z ":e(!1,"unrecognized command: ".concat(r.cmd))})),i.trim()}},{key:"copy",value:function(){return new t(this._subpaths.map((function(t){return{cmd:t.cmd,args:t.args?t.args.slice():null}})),this.currentPoint?this.currentPoint.copy():null,this._firstPoint?this._firstPoint.copy():null,this.bounds?this.bounds.copy():null,this.isClosed)}},{key:"transform",value:function(t,n){return e(t instanceof i,"invalid modelViewTransform: ".concat(t)),e(["modelToView","viewToModel"].includes(n),"invalid prefix: ".concat(n)),this._subpaths.forEach((function(e){"M"===e.cmd||"L"===e.cmd?(e.args[0]=t[n+"X"](e.args[0]),e.args[1]=t[n+"Y"](e.args[1])):"A"===e.cmd&&(e.args[0]=Math.abs(t[n+"DeltaX"](e.args[0])),e.args[1]=Math.abs(t[n+"DeltaY"](e.args[1])),e.args[5]=t[n+"X"](e.args[5]),e.args[6]=t[n+"Y"](e.args[6]))})),this.currentPoint&&(this.currentPoint=t[n+"Point"](this.currentPoint)),this._firstPoint&&(this._firstPoint=t[n+"Point"](this._firstPoint)),this.bounds&&(this.bounds=t[n+"Bounds"](this.bounds)),this}}]),t}()})),r("SIM_CORE/scenery/Path",["require","SIM_CORE/util/assert","SIM_CORE/scenery/gradients/Gradient","SIM_CORE/scenery/Node","SIM_CORE/util/Shape","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/gradients/Gradient"),r=t("SIM_CORE/scenery/Node"),o=t("SIM_CORE/util/Shape"),s=t("SIM_CORE/util/Util"),c=function(t){a(l,t);var c=i(l);function l(t,n){var i;return m(this,l),e(!t||t instanceof o,"invalid shape: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.type,"path sets type"),(n=Object.assign({fill:null,stroke:null,strokeWidth:1,shapeRendering:"auto"},n)).type="path",n.shape=t,(i=c.call(this,n))._fill=n.fill,i._stroke=n.stroke,i._strokeWidth=n.strokeWidth,i._shapeRendering=n.shapeRendering,i._shape=n.shape,i}return S(l,[{key:"addChild",value:function(t){e(!1,"graphical SVG elements cannot have children.")}},{key:"layout",value:function(t){t&&(this._shape?(this.element.setAttribute("d",this._shape.getSVGPath(this._shape.bounds.bottomLeft.negate(),t)),this.element.setAttribute("stroke-width",this._strokeWidth*t)):this.element.setAttribute("d",""),u(h(l.prototype),"layout",this).call(this,t))}},{key:"fill",get:function(){return this._fill},set:function(t){t!==this._fill&&(e(!t||"string"==typeof t||t instanceof n,"invalid fill: ".concat(t)),this._fill=t,this.element.setAttribute("fill",t instanceof n?t.SVGGradientString:t))}},{key:"stroke",get:function(){return this._stroke},set:function(t){t!==this._stroke&&(e(!t||"string"==typeof t||t instanceof n,"invalid stroke: ".concat(t)),this._stroke=t,this.element.setAttribute("stroke",t instanceof n?t.SVGGradientString:t))}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){t!==this._strokeWidth&&(e("number"==typeof t,"invalid strokeWidth: ".concat(t)),this._strokeWidth=t,this.layout(this.screenViewScale))}},{key:"shapeRendering",get:function(){return this._shapeRendering},set:function(t){t!==this._shapeRendering&&(e(["auto","optimizeSpeed","crispEdges","geometricPrecision"].includes(t),"invalid shapeRendering: ".concat(t)),this._shapeRendering=t,this.element.setAttribute("shape-rendering",t))}},{key:"shape",get:function(){return this._shape},set:function(t){t!==this._shape&&(e(!t||t instanceof o,"invalid shape: ".concat(t)),this._shape=t?s.deepFreeze(t):null,this.width=t?t.bounds.width:0,this.height=t?t.bounds.height:0,t&&this._bounds.set(this._shape.bounds),this.parent instanceof r&&this.parent._recomputeAncestorBounds(),this.layout(this.screenViewScale))}}]),l}(r);return c.MUTATOR_KEYS=["shape","fill","stroke","strokeWidth","shapeRendering"].concat(d(r.MUTATOR_KEYS)),c})),r("HYDRAULIC_LIFTS/view/ContainerPath",["require","SIM_CORE/scenery/Path","SIM_CORE/util/Shape"],(function(t){"use strict";var n=t("SIM_CORE/scenery/Path"),r=t("SIM_CORE/util/Shape");return function(t){a(o,t);var n=i(o);function o(t,e,i,r){var s;return m(this,o),r=Object.assign({leftWidth:100,rightWidth:100,midHeight:50},r),(s=n.call(this,null,r))._leftCenterTop=t,s._origin=e,s._rightCenterTop=i,s._leftWidth=r.leftWidth,s._rightWidth=r.rightWidth,s._midHeight=r.midHeight,s._updateContainerShape(),s}return S(o,[{key:"_updateContainerShape",value:function(){var t=(new r).moveTo(this._origin.x,this._origin.y).horizontalLineTo(this._leftCenterTop.x+this._leftWidth/2).verticalLineTo(this._leftCenterTop.y).horizontalLineTo(this._leftCenterTop.x).horizontalLineTo(this._leftCenterTop.x-this._leftWidth/2).verticalLineTo(this._origin.y+this._midHeight).horizontalLineTo(this._rightCenterTop.x+this._rightWidth/2).verticalLineTo(this._rightCenterTop.y).horizontalLineTo(this._rightCenterTop.x).horizontalLineTo(this._rightCenterTop.x-this._rightWidth/2).verticalLineTo(this._origin.y).close();e(h(o.prototype),"shape",t,this,!0)}},{key:"leftWidth",set:function(t){t!==this._leftWidth&&(this._leftWidth=t,this._updateContainerShape())}},{key:"rightWidth",set:function(t){t!==this._rightWidth&&(this._rightWidth=t,this._updateContainerShape())}}]),o}(n)})),r("SIM_CORE/scenery/Arrow",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),s=t("SIM_CORE/util/Vector"),c=function(t){a(c,t);var r=i(c);function c(t,e,i,o,a){var u;return m(this,c),n("number"==typeof t,"invalid tailX: ".concat(t)),n("number"==typeof e,"invalid tailY: ".concat(e)),n("number"==typeof i,"invalid tipX: ".concat(i)),n("number"==typeof o,"invalid tipY: ".concat(o)),n(!a||Object.getPrototypeOf(a)===Object.prototype,"invalid options: ".concat(a)),n(!a||!a.attributes,"Arrow sets attributes"),a=Object.assign({headHeight:12,headWidth:12,tailWidth:3},a),(u=r.call(this,null,a))._headHeight=a.headHeight,u._headWidth=a.headWidth,u._tailWidth=a.tailWidth,u._tail=new s(t,e),u._tip=new s(i,o),u._updateArrowShape(),u}return S(c,[{key:"_updateArrowShape",value:function(){var t=this;if(this._tail&&this._tip&&this._headWidth&&this._headHeight&&this._tailWidth){if(this._tail.equalsEpsilon(this._tip))return e(h(c.prototype),"shape",null,this,!0);var n=this._tip.copy().subtract(this._tail),i=n.magnitude,r=Math.min(this._headHeight,.99*i),a=i?n.copy().normalize():s.ZERO,u=a.copy().rotate(Math.PI/2),l=new o,d=function(e,n){var i=a.x*e+u.x*n+t._tail.x,r=a.y*e+u.y*n+t._tail.y;l.currentPoint?l.lineTo(i,r):l.moveTo(i,r)};d(0,this._tailWidth/2),d(i-r,this._tailWidth/2),d(i-r,this._headWidth/2),d(i,0),d(i-r,-this._headWidth/2),d(i-r,-this._tailWidth/2),d(0,-this._tailWidth/2),e(h(c.prototype),"shape",l,this,!0)}}},{key:"headHeight",get:function(){return this._headHeight},set:function(t){t!==this._headHeight&&(n("number"==typeof t,"invalid headHeight: ".concat(t)),this._headHeight=t,this._updateArrowShape())}},{key:"headWidth",get:function(){return this._headWidth},set:function(t){t!==this._headWidth&&(n("number"==typeof t,"invalid headWidth: ".concat(t)),this._headWidth=t,this._updateArrowShape())}},{key:"tailWidth",get:function(){return this._tailWidth},set:function(t){t!==this._tailWidth&&(n("number"==typeof t,"invalid tailWidth: ".concat(t)),this._tailWidth=t,this._updateArrowShape())}},{key:"tail",get:function(){return this._tail},set:function(t){t.equals(this._tail)||(n(t instanceof s,"invalid tail: ".concat(t)),this._tail.set(t),this._updateArrowShape())}},{key:"tip",get:function(){return this._tip},set:function(t){t.equals(this._tip)||(n(t instanceof s,"invalid tip: ".concat(t)),this._tip.set(t),this._updateArrowShape())}},{key:"shape",set:function(t){n(!1,"Arrow sets shape")}},{key:"tailX",set:function(t){t!==this.tail.x&&(n("number"==typeof t,"invalid tailX: ".concat(t)),this._tail.setX(t),this._updateArrowShape())}},{key:"tailY",set:function(t){t!==this.tail.x&&(n("number"==typeof t,"invalid tailY: ".concat(t)),this._tail.setY(t),this._updateArrowShape())}},{key:"tipX",set:function(t){t!==this.tip.x&&(n("number"==typeof t,"invalid tipX: ".concat(t)),this._tip.setX(t),this._updateArrowShape())}},{key:"tipY",set:function(t){t!==this.tip.x&&(n("number"==typeof t,"invalid tipY: ".concat(t)),this._tip.setY(t),this._updateArrowShape())}}],[{key:"withPoints",value:function(t,e,i){return n(t instanceof s,"invalid tail: ".concat(t)),n(e instanceof s,"invalid tip: ".concat(e)),new c(t.x,t.y,e.x,e.y,i)}}]),c}(r);return c.MUTATOR_KEYS=["headHeight","headWidth","tailWidth"].concat(d(r.MUTATOR_KEYS)),c})),r("SIM_CORE/scenery/Rectangle",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/util/Bounds"),s=t("SIM_CORE/scenery/Path"),c=t("SIM_CORE/util/Shape"),l=t("SIM_CORE/util/Vector"),f=function(t,e){return l.scratch.setXY(t,e)},y=function(t){a(l,t);var s=i(l);function l(t,i,r){var a;return m(this,l),n("number"==typeof t&&t>=0,"invalid width: ".concat(t)),n("number"==typeof i&&i>=0,"invalid height: ".concat(i)),n(!r||Object.getPrototypeOf(r)===Object.prototype,"invalid options: ".concat(r)),n(!r||!r.attributes,"Rectangle sets attributes"),n(!r||!r.width,"width should be provided in the first argument"),n(!r||!r.height,"height should be provided in the first argument"),(r=Object.assign({cornerRadius:0},r)).width=t,r.height=i,(a=s.call(this,null,r))._cornerRadius=r.cornerRadius,e(h(l.prototype),"shape",l._computeRectangleShape(a.bounds,a._cornerRadius),o(a),!0),a}return S(l,[{key:"cornerRadius",get:function(){return this._cornerRadius},set:function(t){this._cornerRadius=t,e(h(l.prototype),"shape",l._computeRectangleShape(this.bounds,this._cornerRadius),this,!0)}},{key:"width",get:function(){return u(h(l.prototype),"width",this)},set:function(t){t!==this._bounds.width&&(e(h(l.prototype),"width",t,this,!0),e(h(l.prototype),"shape",l._computeRectangleShape(this.bounds,this._cornerRadius),this,!0))}},{key:"height",get:function(){return u(h(l.prototype),"height",this)},set:function(t){t!==this._bounds.height&&(e(h(l.prototype),"height",t,this,!0),e(h(l.prototype),"shape",l._computeRectangleShape(this.bounds,this._cornerRadius),this,!0))}},{key:"shape",set:function(t){n(!1,"Rectangle sets shape")}}],[{key:"_computeRectangleShape",value:function(t,e){var n=Math.min(t.width/2,t.height/2);return(e=Math.min(n,e))?(new c).arc(f(t.minX+e,t.minY+e),e,Math.PI,-Math.PI/2).horizontalLineTo(t.maxX-e).arc(f(t.maxX-e,t.minY+e),e,-Math.PI/2,0).verticalLineTo(t.maxY-e).arc(f(t.maxX-e,t.maxY-e),e,0,Math.PI/2).horizontalLineTo(t.minX+e).arc(f(t.minX+e,t.maxY-e),e,Math.PI/2,Math.PI).close():(new c).moveTo(t.minX,t.minY).horizontalLineTo(t.maxX).verticalLineTo(t.maxY).horizontalLineTo(t.minX).close()}},{key:"withRect",value:function(t,e,n,i,r){return new l(n,i,Object.assign({},r,{left:t,top:e}))}},{key:"withBounds",value:function(t,e){return n(t instanceof r,"invalid bounds: ".concat(t)),l.withRect(t.minX,t.minY,t.width,t.height,e)}}]),l}(s);return y.MUTATOR_KEYS=["cornerRadius"].concat(d(s.MUTATOR_KEYS)),y})),r("HYDRAULIC_LIFTS/view/LiftNode",["require","SIM_CORE/scenery/Arrow","SIM_CORE/scenery/Node","SIM_CORE/scenery/Rectangle"],(function(t){"use strict";var e=t("SIM_CORE/scenery/Arrow"),n=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/scenery/Rectangle");return function(t){a(o,t);var n=i(o);function o(t,i,s,a){var c;return m(this,o),a=Object.assign({height:20,fill:"red"},a),(c=n.call(this,a)).liftCenterY=i,c.liftRectangle=new r(0,a.height,{centerX:s.modelToViewX(t.centerX),centerY:i,fill:a.fill}),c.emptyRectangle=new r(0,155,{centerX:c.liftRectangle.centerX,bottom:c.liftRectangle.top,fill:"rgb( 255, 250, 227 )"}),c.forceArrow=new e(0,0,0,0,{fill:"green",headHeight:16,headWidth:20,tailWidth:12}),c.setChildren([c.liftRectangle,c.emptyRectangle,c.forceArrow]),c}return o}(n)})),r("HYDRAULIC_LIFTS/view/InputLiftNode",["require","HYDRAULIC_LIFTS/view/LiftNode","SIM_CORE/util/Multilink","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/view/LiftNode"),n=t("SIM_CORE/util/Multilink"),r=t("SIM_CORE/util/Vector");return function(t){a(o,t);var e=i(o);function o(t,i,s,a,c){var u;return m(this,o),c=Object.assign({},c),u=e.call(this,t,i,a,c),new n([t.radiusProperty,t.forceProperty,s],(function(e,n,i){u.liftRectangle.width=a.modelToViewDeltaX(2*e),u.liftRectangle.centerX=a.modelToViewX(t.centerX),u.emptyRectangle.width=a.modelToViewDeltaX(2*e),u.emptyRectangle.centerX=u.liftRectangle.centerX,u.liftRectangle.centerY=u.liftCenterY+15*n,u.emptyRectangle.bottom=u.liftRectangle.top;var o=u.liftRectangle.center,s=o.copy().subtract(new r(0,6*n));u.forceArrow.tail=s,u.forceArrow.tip=o,u.forceArrow.visible=i})),u}return o}(e)})),r("HYDRAULIC_LIFTS/view/OutputLiftNode",["require","HYDRAULIC_LIFTS/view/LiftNode","SIM_CORE/util/Multilink","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/view/LiftNode"),n=t("SIM_CORE/util/Multilink"),r=t("SIM_CORE/util/Vector");return function(t){a(o,t);var e=i(o);function o(t,i,s,a,c){var u;return m(this,o),c=Object.assign({},c),u=e.call(this,t,i,a,c),new n([t.radiusProperty,t.forceProperty,s],(function(e,n,i){u.liftRectangle.width=a.modelToViewDeltaX(2*e),u.liftRectangle.centerX=a.modelToViewX(t.centerX),u.emptyRectangle.width=a.modelToViewDeltaX(2*e),u.emptyRectangle.centerX=u.liftRectangle.centerX,u.liftRectangle.centerY=u.liftCenterY-n/3.5,u.emptyRectangle.bottom=u.liftRectangle.top;var o=u.liftRectangle.center,s=o.copy().subtract(new r(0,1.1*n));u.forceArrow.tail=o,u.forceArrow.tip=s,u.forceArrow.visible=i})),u}return o}(e)})),r("SIM_CORE/scenery/Text",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/gradients/Gradient","SIM_CORE/scenery/Node"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/gradients/Gradient"),o=t("SIM_CORE/scenery/Node"),s=function(t){a(s,t);var o=i(s);function s(t,n){var i;return m(this,s),e("number"==typeof t||"string"==typeof t,"invalid text: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.attributes,"Text sets attributes"),e(!n||!n.width,"Text sets width"),e(!n||!n.height,"Text sets height"),e(!n||!n.type,"Text sets type"),e(!n||!n.text,"Text should be provided in the first argument"),(n=Object.assign({type:"text",fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Arial",fill:"#000000",stroke:null,strokeWidth:0,textRendering:"auto"},n)).text="".concat(t),(i=o.call(this,n))._fontStyle=n.fontStyle,i._fontWeight=n.fontWeight,i._fontSize=n.fontSize,i._fontFamily=n.fontFamily,i._fill=n.fill,i._stroke=n.stroke,i._strokeWidth=n.strokeWidth,i._textRendering=n.textRendering,i}return S(s,[{key:"setText",value:function(t){u(h(s.prototype),"setText",this).call(this,t),this._updateTextBounds()}},{key:"_generateCSS3FontString",value:function(t){e(this._fontSize&&this._fontFamily&&this._fontStyle&&this._fontWeight,"cannot generate the font string of a degenerate Text Node.");var n="";return"normal"!==this._fontStyle&&(n+=this._fontStyle+" "),"normal"!==this._fontWeight&&(n+=this._fontWeight+" "),n+=this._fontSize*t+"px "+this._fontFamily}},{key:"layout",value:function(t){t&&("hanging"!==this.element.getAttribute("dominant-baseline")&&(this.setAttribute("dominant-baseline","hanging"),this.element.setAttribute("stroke-width",this._strokeWidth*t)),this.style.font=this._generateCSS3FontString(t),u(h(s.prototype),"layout",this).call(this,t))}},{key:"_updateTextBounds",value:function(){if(this._fontSize&&this._fontFamily&&this._fontStyle&&this._fontWeight){var t=s._approximateTextBounds(this);this.width=t.width,this.height=t.height,this.style.font=this._generateCSS3FontString(this.screenViewScale)}}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){t!==this._fontStyle&&(e(["normal","italic","oblique"].includes(t),"invalid fontStyle: ".concat(t)),this._fontStyle=t,this._updateTextBounds())}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){t!==this._fontWeight&&(e("number"==typeof t?t<=900&&t>=100&&t%100==0:["normal","bold","bolder","lighter"].includes(t),"invalid fontWeight: ".concat(t)),this._fontWeight=t,this._updateTextBounds())}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){t!==this._fontSize&&(e("number"==typeof t&&t>0,"invalid fontSize: ".concat(t)),this._fontSize=t,this._updateTextBounds())}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){t!==this._fontFamily&&(e("string"==typeof t,"invalid fontFamily: ".concat(t)),this._fontFamily=t,this._updateTextBounds())}},{key:"fill",get:function(){return this._fill},set:function(t){t!==this._fill&&(e(!t||"string"==typeof t||t instanceof r,"invalid fill: ".concat(t)),this._fill=t,this.element.setAttribute("fill",t instanceof r?t.SVGGradientString:t))}},{key:"stroke",get:function(){return this._stroke},set:function(t){t!==this._stroke&&(e(!t||"string"==typeof t||t instanceof r,"invalid stroke: ".concat(t)),this._stroke=t,this.element.setAttribute("stroke",t instanceof r?t.SVGGradientString:t))}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){t!==this._strokeWidth&&(e("number"==typeof t,"invalid strokeWidth: ".concat(t)),this._strokeWidth=t,this.layout(this.screenViewScale))}},{key:"textRendering",get:function(){return this._textRendering},set:function(t){t!==this._textRendering&&(e(["auto","optimizeSpeed","optimizeLegibility","geometricPrecision"].includes(t),"invalid textRendering: ".concat(t)),this._textRendering=t,this.element.setAttribute("text-rendering",t))}},{key:"text",get:function(){return this._text},set:function(t){this.setText(t)}}],[{key:"_approximateTextBounds",value:function(t){return s.testSVGText||(s.testSVGTextParent=new n({type:"svg",id:"scenery-test-text-size-element",style:{opacity:0,whiteSpace:"nowrap",position:"absolute",left:"-65535px",top:"-65535px"}}),s.testSVGText=new n({type:"text",attributes:{"text-rendering":"geometricPrecision"}}),s.testSVGTextParent.addChild(s.testSVGText),document.body.appendChild(s.testSVGTextParent.element)),s.testSVGText.text=t.text,s.testSVGText.style.font=t._generateCSS3FontString(1),s.testSVGText.element.getBoundingClientRect()}}]),s}(o);return s.testSVGText,s.testSVGTextParent,s.MUTATOR_KEYS=["fontSize","fontFamily","fontStyle","fontWeight","fontStretch","fill","stroke","strokeWidth","shapeRendering","text"].concat(d(o.MUTATOR_KEYS)),s})),r("HYDRAULIC_LIFTS/view/ContainerNode",["require","HYDRAULIC_LIFTS/view/ContainerPath","HYDRAULIC_LIFTS/view/InputLiftNode","SIM_CORE/util/Multilink","SIM_CORE/scenery/Node","HYDRAULIC_LIFTS/view/OutputLiftNode","SIM_CORE/scenery/Rectangle","SIM_CORE/scenery/Text","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/view/ContainerPath"),n=t("HYDRAULIC_LIFTS/view/InputLiftNode"),r=t("SIM_CORE/util/Multilink"),o=t("SIM_CORE/scenery/Node"),s=t("HYDRAULIC_LIFTS/view/OutputLiftNode"),c=t("SIM_CORE/scenery/Rectangle"),u=t("SIM_CORE/scenery/Text"),l=t("SIM_CORE/util/Util"),h=t("SIM_CORE/util/Vector");return function(t){a(d,t);var o=i(d);function d(t,i,a,f,y){var p;m(this,d),y=Object.assign({fill:"blue",stroke:"black",strokeWidth:2.5},y),p=o.call(this,y);var _=new n(t.inputLift,300,a,f),v=new s(t.outputLift,380,a,f),g=new e(new h(f.modelToViewX(t.inputLift.centerX),290),f.modelToViewPoint(new h(4,-4)),new h(f.modelToViewX(t.outputLift.centerX),290),{midHeight:70,stroke:y.stroke,fill:y.fill,strokeWidth:y.strokeWidth}),S=new c(75,30,{fill:"white",stroke:"rgb( 150, 150, 150 )",strokeWidth:.5,centerX:f.modelToViewX(t.outputLift.centerX),top:400,cornerRadius:1}),b=new u("",{fontSize:15});return new r([t.outputLift.forceProperty,i],(function(t,e){b.setText("".concat(l.toFixed(t,1)," ","N")),b.centerX=S.centerX,b.centerY=S.centerY+2,b.visible=e,S.visible=e})),new r([t.inputLift.radiusProperty,t.outputLift.radiusProperty],(function(t,e){g.leftWidth=2*(f.modelToViewDeltaX(t)+1.5),g.rightWidth=2*(f.modelToViewDeltaX(e)+1.5)})),p.setChildren([g,S,b,_,v]),p}return d}(o)})),r("SIM_CORE/scenery/FlexBox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Node"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/Node"),r=function(t){a(o,t);var r=i(o);function o(t,n){var i;return m(this,o),e("horizontal"===t||"vertical"===t,"invalid orientation: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.attributes,"FlexBox sets attributes"),e(!n||!n.width,"FlexBox sets width"),e(!n||!n.height,"FlexBox sets height"),n=Object.assign({spacing:0,align:"center"},n),(i=r.call(this,n))._orientation=t,i._isUpdatingLayout=!1,i._spacing,i._align,i.mutate(n),i}return S(o,[{key:"_updateLayout",value:function(){var t=this;if(this._align&&void 0!==this._spacing){this._isUpdatingLayout=!0;var e=0,n=0;this.children.forEach((function(t){t.width>e&&(e=t.width),t.height>n&&(n=t.height)}));var i=0,r="vertical"===this._orientation?{positionKey:"top",sizeKey:"height",alignmentKey:"center"===this._align?"centerX":this._align,alignmentValue:{left:0,right:e,center:e/2}}:{positionKey:"left",sizeKey:"width",alignmentKey:"center"===this._align?"centerY":this._align,alignmentValue:{top:0,bottom:n,center:n/2}};this.children.forEach((function(e){e[r.positionKey]=i,e[r.alignmentKey]=r.alignmentValue[t._align],i+=e[r.sizeKey]+t._spacing})),this._isUpdatingLayout=!1,u(h(o.prototype),"_recomputeAncestorBounds",this).call(this)}}},{key:"addChild",value:function(t){return e(t instanceof n,"invalid child: ".concat(t)),u(h(o.prototype),"addChild",this).call(this,t),this._updateLayout(),this}},{key:"_recomputeAncestorBounds",value:function(){!1===this._isUpdatingLayout&&this._updateLayout(),u(h(o.prototype),"_recomputeAncestorBounds",this).call(this)}},{key:"orientation",get:function(){return this._orientation}},{key:"spacing",get:function(){return this._spacing},set:function(t){this._orientation&&t!==this._spacing&&(e("number"==typeof t&&t>=0,"invalid spacing: ".concat(t)),this._spacing=t,this._updateLayout())}},{key:"align",get:function(){return this._align},set:function(t){this._orientation&&t!==this._align&&(e("vertical"===this._orientation&&["left","center","right"].includes(t)||"horizontal"===this._orientation&&["top","center","bottom"].includes(t),"invalid align: ".concat(t)),this._align=t,this._updateLayout())}}]),o}(n);return r.MUTATOR_KEYS=["spacing","align"].concat(d(n.MUTATOR_KEYS)),r})),r("SIM_CORE/util/ColorWheel",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),i=t("SIM_CORE/util/Util"),r={},o={rgb:/^rgb\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)$/,rgba:/^rgba\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*((\d+|\d*\.\d+)%?)\s*\)$/,hex:/^#((?:[A-Fa-f0-9]{2}){3,4}|(?:[A-Fa-f0-9]{1}){3,4})$/,hsl:/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,hsla:/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*((\d+|\d*\.\d+)%?)\s*\)$/,keyword:/^[a-z]+$/},s=function(){function t(){m(this,t)}return S(t,null,[{key:"shade",value:function(n,i){if(e("string"==typeof n,"invalid color: ".concat(n)),0===i)return n;var o;if(Object.prototype.hasOwnProperty.call(r,n)&&(o=r[n]),n.includes("rgb")&&(o=t.parseRgb(n)),n.includes("hsl")&&(o=t.hslToRgba(n)),n.includes("#")&&(o=t.hexToRgba(n)),t.isKeyword(n)&&(o=t.keywordToRgba(n)),e(o,"invalid color: ".concat(n)),i>0){var s=Math.min(255,o[0]+Math.floor(i*(255-o[0]))),a=Math.min(255,o[1]+Math.floor(i*(255-o[1]))),c=Math.min(255,o[2]+Math.floor(i*(255-o[2])));return t.formatRgbString(s,a,c,o[3])}var u=Math.max(0,o[0]-Math.floor(-i*o[0])),l=Math.max(0,o[1]-Math.floor(-i*o[1])),h=Math.max(0,o[2]-Math.floor(-i*o[2]));return t.formatRgbString(u,l,h,o[3])}},{key:"isRgb",value:function(t){return o.rgb.test(t)}},{key:"isRgba",value:function(t){return o.rgba.test(t)}},{key:"isHex",value:function(t){return o.hex.test(t)}},{key:"isHsl",value:function(t){return o.hsl.test(t)}},{key:"isHsla",value:function(t){return o.hsla.test(t)}},{key:"isKeyword",value:function(e){return t._testElement||t._initializeColorTesting(),t._testElement.style.background=null,t._testElement.style.background=e,o.keyword.test(e)&&!!t._testElement.style.background.length}},{key:"hexToRgba",value:function(n){if(e.enabled&&e(t.isHex(n),"invalid hex: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];3!==(n=n.replace("#","")).length&&4!==n.length||(n=d(n).map((function(t){return t+t})).join("")),6===n.length&&(n+="FF");var i=[0,1,2].map((function(t){return parseInt(n.substring(2*t,2*(t+1)),16)}));return i.push(parseInt(n.substring(6,8),16)/255),r[n]=t._clampRgbaArray(i),i}},{key:"hslToRgba",value:function(n){if(e.enabled&&e(t.isHsl(n)||t.isHsla(n),"invalid hsl: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];var o=t._parseToArguments(n),s=parseFloat(o[0])%360/360,a=i.clamp(parseInt(o[1].replace("%",""),10)/100,0,1),c=i.clamp(parseInt(o[2].replace("%",""),10)/100,0,1);3===o.length&&o.push("1");var u=o[3].includes("%")?i.clamp(parseFloat(o[3].replace("%",""))/100,0,1):i.clamp(parseFloat(o[3]),0,1),l=c<.5?c*(a+1):c+a-c*a,h=2*c-l,d=function(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?h+6*(l-h)*t:t<.5?l:t<2/3?h+(l-h)*(2/3-t)*6:h},f=i.roundSymmetric(255*d(s+1/3)),y=i.roundSymmetric(255*d(s)),p=i.roundSymmetric(255*d(s-1/3));return r[n]=t._clampRgbaArray([f,y,p,u]),r[n]}},{key:"keywordToRgba",value:function(n){if(e.enabled&&e(t.isKeyword(n),"invalid keyword: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];t._canvasContext||t._initializeColorTesting(),t._canvasContext.fillStyle=n,t._canvasContext.fill();var i=t._canvasContext.getImageData(0,0,1,1).data;return r[n]=[i[0],i[1],i[2],i[3]/255],t._clampRgbaArray(r[n])}},{key:"parseRgb",value:function(n){if(e.enabled&&e(t.isRgb(n)||t.isRgba(n),"invalid rgb: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];var i=t._parseToArguments(n);return 3===i.length&&i.push("1"),r[n]=t._clampRgbaArray(i.map((function(t,e){return 3!==e?t.includes("%")?parseFloat(t.replace("%",""))/100*255:parseFloat(t):t.includes("%")?parseFloat(t.replace("%",""))/100:parseFloat(t)}))),r[n]}},{key:"formatRgbString",value:function(t,e,n,i){return 1===i?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(i,")")}},{key:"_clampRgbaArray",value:function(t){return t[0]=i.clamp(i.roundSymmetric(t[0]),0,255),t[1]=i.clamp(i.roundSymmetric(t[1]),0,255),t[2]=i.clamp(i.roundSymmetric(t[2]),0,255),t[3]=i.clamp(t[3],0,1),t}},{key:"_parseToArguments",value:function(t){return t.substring(t.indexOf("(")+1,t.indexOf(")")).split(",").map((function(t){return t.trim()}))}},{key:"_initializeColorTesting",value:function(){t._testElement=new n;var e=new n({type:"canvas"});t._canvasContext=e.element.getContext("2d"),t._canvasContext.rect(0,0,1,1)}}]),t}();return s._testElement,s._canvasContext,s})),r("SIM_CORE/util/Enum",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(i){var r=this;m(this,t),e(n.isArray(i)&&i.every((function(t){return"string"==typeof t&&t.toUpperCase()===t})),"invalid keys: ".concat(i)),e(["includes","KEYS","MEMBERS"],"Keys ".concat(i," contains a build-in provided value.")),this.KEYS=i,this.MEMBERS=[],i.forEach((function(e){r[e]=new t.Member(e),r.MEMBERS.push(r[e])})),n.deepFreeze(this)}return S(t,[{key:"includes",value:function(t){return this.MEMBERS.includes(t)}}]),t}();return i.Member=function(){function t(e){m(this,t),this.name=e}return S(t,[{key:"toString",value:function(){return this.name}}]),t}(),i})),r("SIM_CORE/core-internal/Throttle",["require","SIM_CORE/util/assert"],(function(t){"use strict";var e=t("SIM_CORE/util/assert");return function(){function t(){m(this,t)}return S(t,null,[{key:"throttle",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e("function"==typeof t,"invalid listener: ".concat(t)),e("number"==typeof n&&n>=0,"invalid waitTime: ".concat(n));var r=!1,o=!1,s=function e(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];r||o?i&&r&&!o&&(o=!0,setTimeout((function(){o=!1,e.apply(void 0,a)}),2*n)):(r=!0,t.apply(void 0,a),setTimeout((function(){r=!1}),n))};return s}}]),t}()})),r("SIM_CORE/core-internal/Display",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/StandardSimQueryParameters","SIM_CORE/core-internal/Throttle","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/StandardSimQueryParameters"),o=t("SIM_CORE/core-internal/Throttle"),s=t("SIM_CORE/util/Util"),c=function(t){a(u,t);var c=i(u);function u(t){var n;return m(this,u),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style,"Display sets style."),e(!t||!t.type,"Display sets type."),e(!t||!t.text,"Display should not have text"),e(!(t&&t.id&&t.class&&t.attributes),"Display sets attributes"),t=Object.assign({type:"div",style:{height:"100%",width:"100%",fontFamily:"Arial, sans-serif"},id:"display"},t),(n=c.call(this,t))._eventListeners={resize:[],frame:[]},n}return S(u,[{key:"initiate",value:function(){var t=this,e=document.getElementsByTagName("body")[0];e.appendChild(this.element),this._parent=e,n.addElementStyles(e,{maxWidth:"100%",maxHeight:"100%",height:"100%",width:"100%",padding:0,margin:0,overflow:"hidden",position:"fixed",fontSmoothing:"antialiased",touchAction:"none",contentZooming:"none",overflowScrolling:"touch",tapHighlightColor:"rgba( 0, 0, 0, 0 )",touchCallout:"none",userDrag:"none"}),window.onresize=o.throttle((function(){u.isMobile&&(window.scrollTo(0,0),t.element.style.height=window.innerHeight+"px",t.element.style.width=window.innerWidth+"px"),t._trigger("resize",window.innerWidth,window.innerHeight)}),r.resizeThrottle,!0),window.onresize();var i=Date.now();return u._requestAnimationFrame((function e(){var n=Date.now(),r=s.convertFrom(n-i,s.MILLI);i=n,t._trigger("frame",r),u._requestAnimationFrame(e)})),this}},{key:"on",value:function(t,n){e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),e("function"==typeof n,"invalid listener: ".concat(n)),this._eventListeners[t].push(n),"resize"===t&&n(window.innerWidth,window.innerHeight)}},{key:"off",value:function(t,n){e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),e(this._eventListeners[t].includes(n),"invalid listener: ".concat(n)),s.arrayRemove(this._eventListeners[t],n)}},{key:"_trigger",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),this._eventListeners[t].forEach((function(t){t.apply(void 0,i)}))}}]),u}(n);return c._requestAnimationFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}).bind(window),c.canUsePointerEvents=!!(window.navigator&&window.navigator.pointerEnabled||window.PointerEvent),c.canUseMSPointerEvents=!(!window.navigator||!window.navigator.msPointerEnabled),c.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent||navigator.vendor||window.opera),c})),r("SIM_CORE/scenery/events/HoverListener",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/scenery/Node","SIM_CORE/core-internal/Throttle"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/Display"),i=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/core-internal/Throttle");return function(){function t(o,s){m(this,t),e(o instanceof i||o instanceof n,"invalid node: ".concat(o)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({enter:null,exit:null,movement:null,movementThrottle:5},s),e(!s.enter||"function"==typeof s.enter,"invalid enter: ".concat(s.enter)),e(!s.exit||"function"==typeof s.exit,"invalid exit: ".concat(s.exit)),e(!s.movement||"function"==typeof s.movement,"invalid movement: ".concat(s.movement)),e("number"==typeof s.movementThrottle,"invalid movementThrottle: ".concat(s.movementThrottle)),this._targetElement=o.element,this._enterListener=s.enter,this._exitListener=s.exit,this._movementListener=s.movement,this._enterHandler=this._enter.bind(this),this._exitHandler=this._exit.bind(this),this._movementHandler=r.throttle(this._move.bind(this),s.movementThrottle),this._initiate()}return S(t,[{key:"_initiate",value:function(){n.canUsePointerEvents?(this._enterListener&&this._targetElement.addEventListener("pointerover",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("pointerout",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("pointermove",this._movementHandler)):n.canUseMSPointerEvents?(this._enterListener&&this._targetElement.addEventListener("MSPointerOver",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("MSPointerOut",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("MSPointerMove",this._movementHandler)):(this._enterListener&&this._targetElement.addEventListener("mouseover",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("mouseout",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("mousemove",this._movementHandler),this._movementListener&&this._targetElement.addEventListener("touchmove",this._movementHandler))}},{key:"_enter",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._enterListener(t)}},{key:"_exit",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._exitListener(t)}},{key:"_move",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._movementListener(t)}},{key:"dispose",value:function(){n.canUsePointerEvents?(this._enterListener&&this._targetElement.removeEventListener("pointerover",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("pointerout",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("pointermove",this._movementHandler)):n.canUseMSPointerEvents?(this._enterListener&&this._targetElement.removeEventListener("MSPointerOver",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("MSPointerOut",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("MSPointerMove",this._movementHandler)):(this._enterListener&&this._targetElement.removeEventListener("mouseover",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("mouseout",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("mousemove",this._movementHandler),this._movementListener&&this._targetElement.removeEventListener("touchmove",this._movementHandler)),this._enterHandler=null,this._exitHandler=null,this._movementHandler=null,this._enterListener=null,this._exitListener=null,this._movementListener=null}}]),t}()})),r("SIM_CORE/scenery/gradients/LinearGradient",["require","SIM_CORE/util/assert","SIM_CORE/scenery/gradients/Gradient"],(function(t){"use strict";var e=t("SIM_CORE/util/assert");return function(t){a(r,t);var n=i(r);function r(t,i,o,s){var a;return m(this,r),e("number"==typeof t&&t>=0&&t<=100,"invalid x1: ".concat(t)),e("number"==typeof i&&i>=0&&i<=100,"invalid x1: ".concat(i)),e("number"==typeof o&&o>=0&&o<=100,"invalid x2: ".concat(o)),e("number"==typeof s&&s>=0&&s<=100,"invalid y2: ".concat(s)),(a=n.call(this,"linearGradient"))._definitionElement.addAttributes({x1:"".concat(t,"%"),y1:"".concat(i,"%"),x2:"".concat(o,"%"),y2:"".concat(s,"%")}),a}return r}(t("SIM_CORE/scenery/gradients/Gradient"))})),r("SIM_CORE/scenery/events/PressListener",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/scenery/Node","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/Display"),i=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/util/Vector"),o=1;return function(){function t(r,s){m(this,t),e(r instanceof i||r instanceof n,"invalid node: ".concat(r)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({press:null,release:null},s),e(!s.press||"function"==typeof s.press,"invalid press: ".concat(s.press)),e(!s.release||"function"==typeof s.release,"invalid release: ".concat(s.release)),this._targetNode=r,this._pressListener=s.press,this._releaseListener=s.release,this._pressHandler=this._press.bind(this),this._releaseHandler=this._release.bind(this),this._id=o++,this._initiate()}return S(t,[{key:"_initiate",value:function(){n.canUsePointerEvents?(this._pressListener&&this._targetNode.element.addEventListener("pointerdown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("pointerup",this._releaseHandler)):n.canUseMSPointerEvents?(this._pressListener&&this._targetNode.element.addEventListener("MSPointerDown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("MSPointerUp",this._releaseHandler)):(this._pressListener&&this._targetNode.element.addEventListener("touchstart",this._pressHandler),this._pressListener&&this._targetNode.element.addEventListener("mousedown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("touchend",this._releaseHandler),this._releaseListener&&this._targetNode.element.addEventListener("mouseup",this._releaseHandler))}},{key:"_press",value:function(t){e(t,"invalid event: ".concat(t)),void 0===t["pressHandled"+this._id]&&(t["pressHandled"+this._id]=!0,t.preventDefault(),this._pressListener(this._getEventParentLocation(t),t))}},{key:"_release",value:function(t){e(t,"invalid event: ".concat(t)),void 0===t["releaseHandled"+this._id]&&(t["releaseHandled"+this._id]=!0,t.preventDefault(),this._releaseListener(t))}},{key:"_getEventWindowLocation",value:function(t){return new r(void 0!==t.clientX?t.clientX:t.touches[0].clientX,void 0!==t.clientY?t.clientY:t.touches[0].clientY)}},{key:"_getEventParentLocation",value:function(t){var e=this._targetNode.element.getBoundingClientRect(),n=this._getEventWindowLocation(t).subtractXY(e.x,e.y).divide(this._targetNode.screenViewScale);return this._targetNode.topLeft.add(n)}},{key:"dispose",value:function(){n.canUsePointerEvents?(this._pressListener&&this._targetNode.element.removeEventListener("pointerdown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("pointerup",this._releaseHandler)):n.canUseMSPointerEvents?(this._pressListener&&this._targetNode.element.removeEventListener("MSPointerDown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("MSPointerUp",this._releaseHandler)):(this._pressListener&&this._targetNode.element.removeEventListener("touchstart",this._pressHandler),this._pressListener&&this._targetNode.element.removeEventListener("mousedown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("touchend",this._releaseHandler),this._releaseListener&&this._targetNode.element.removeEventListener("mouseup",this._releaseHandler)),this._pressHandler=null,this._releaseHandler=null,this._pressListener=null,this._releaseListener=null}}]),t}()})),r("SIM_CORE/scenery/buttons/Button",["require","SIM_CORE/util/assert","SIM_CORE/util/ColorWheel","SIM_CORE/util/Enum","SIM_CORE/scenery/events/HoverListener","SIM_CORE/scenery/gradients/LinearGradient","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/scenery/events/PressListener","SIM_CORE/util/Property","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/ColorWheel"),r=t("SIM_CORE/util/Enum"),s=t("SIM_CORE/scenery/events/HoverListener"),c=t("SIM_CORE/scenery/gradients/LinearGradient"),l=t("SIM_CORE/scenery/Node"),d=t("SIM_CORE/scenery/Path"),f=t("SIM_CORE/scenery/events/PressListener"),y=t("SIM_CORE/util/Property"),p=t("SIM_CORE/util/Vector"),_={},v=function(t){a(v,t);var r=i(v);function v(t,n,i){var a;return m(this,v),e(t instanceof d,"invalid background: ".concat(t)),e(n instanceof l,"invalid content: ".concat(n)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),(i=Object.assign({xAlign:"center",yAlign:"center",cursor:"pointer"},i)).children=[t,n],(a=r.call(this,i))._xAlign=i.xAlign,a._yAlign=i.yAlign,a.interactionStateProperty=new y(v.interactionStates.IDLE,{validValues:v.interactionStates.MEMBERS}),a.idleFill,a.hoverFill,a.pressedFill,a.background=t,a.content=n,a.updatePositioning(),a._pressListener=new f(o(a),{press:function(){a.interactionStateProperty.value=v.interactionStates.PRESSED},release:function(){a.interactionStateProperty.value=v.interactionStates.HOVER}}),a._hoverListener=new s(o(a),{enter:function(){a.interactionStateProperty.value=v.interactionStates.HOVER},exit:function(){a.interactionStateProperty.value=v.interactionStates.IDLE}}),a}return S(v,[{key:"dispose",value:function(){this.interactionStateProperty.dispose(),this._pressListener.dispose(),this._hoverListener.dispose(),u(h(v.prototype),"dispose",this).call(this)}},{key:"updatePositioning",value:function(){this.background.topLeft=p.ZERO;var t="center"===this._xAlign?"centerX":this._xAlign,e="center"===this._yAlign?"centerY":this._yAlign;this.content[t]=this.background[t],this.content[e]=this.background[e]}}],[{key:"apply3DGradients",value:function(t,i){if(e(!t.idleFill&&!t.hoverFill&&!t.pressedFill,"Button already has 3D gradients applied"),Object.hasOwnProperty.call(_,i))t.idleFill=_[i].idleFill,t.hoverFill=_[i].hoverFill,t.pressedFill=_[i].pressedFill;else{t.idleFill=new c(0,13,100,78),t.hoverFill=new c(0,13,100,78),t.pressedFill=new c(0,13,100,78);var r=n.shade(i,.25),o=n.shade(i,-.15);[[.75,0],[.5,20],[.3,40],[0,59],[-.03,69],[-.06,75],[-.11,81],[-.15,87],[-.22,92.5],[-.26,95.5],[-.3,100]].forEach((function(e){t.idleFill.addColorStop(n.shade(i,e[0]),e[1]),t.hoverFill.addColorStop(n.shade(r,e[0]),e[1]),t.pressedFill.addColorStop(n.shade(o,e[0]),e[1])})),_[i]={idleFill:t.idleFill,hoverFill:t.hoverFill,pressedFill:t.pressedFill}}t.interactionStateProperty.link((function(n){n===v.interactionStates.IDLE&&(t.background.fill=t.idleFill),n===v.interactionStates.HOVER&&(t.background.fill=t.hoverFill),n===v.interactionStates.PRESSED?t.background.fill=t.pressedFill:e(!1,"invalid interactionState: ".concat(n))}))}}]),v}(l);return v.interactionStates=new r(["IDLE","HOVER","PRESSED"]),v})),r("SIM_CORE/scenery/buttons/Checkbox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/util/Property","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Node"),o=t("SIM_CORE/scenery/Path"),s=t("SIM_CORE/util/Property"),c=t("SIM_CORE/scenery/Rectangle"),l=t("SIM_CORE/util/Shape"),d=t("SIM_CORE/util/Vector");return function(t){a(y,t);var f=i(y);function y(t,i){var a;m(this,y),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(t instanceof s&&"boolean"==typeof t.value,"invalid toggleProperty: ".concat(t)),i=Object.assign({boxStroke:"black",boxFill:"white",boxStrokeWidth:2,boxCornerRadius:3,boxSize:19,checkFill:"black",checkStroke:"white",checkStrokeWidth:.8},i);var u=new c(i.boxSize,i.boxSize,{stroke:i.boxStroke,strokeWidth:i.boxStrokeWidth,fill:i.boxFill,cornerRadius:i.boxCornerRadius}),h=5*i.boxSize/8,p=27*h/16,_=5*h/12,v=.27*Math.PI,g=(new l).moveToPoint(d.ZERO).lineToPoint(d.scratch.setXY(h,0).rotate(v)).lineToPoint(d.scratch.setXY(h,-p).rotate(v)).lineToPoint(d.scratch.setXY(h-_,-p).rotate(v)).lineToPoint(d.scratch.setXY(h-_,-_).rotate(v)).lineToPoint(d.scratch.setXY(0,-_).rotate(v)).close(),S=(new r).addChild(new o(g,{fill:i.checkFill,stroke:i.checkStroke,strokeWidth:i.checkStrokeWidth,left:2*i.boxSize/5,bottom:-1*i.boxSize/12}));return(a=f.call(this,u,S,i)).mutate(i),a._toggleProperty=t,a._togglePropertyObserver=t.linkAttribute(S,"visible"),a.interactionStateProperty.link((function(e){e===n.interactionStates.PRESSED&&t.toggle()})),a}return S(y,[{key:"dispose",value:function(){this._toggleProperty.unlink(this._togglePropertyObserver),this._toggleProperty=null,u(h(y.prototype),"dispose",this).call(this)}}]),y}(n)})),r("HYDRAULIC_LIFTS/view/HydraulicLiftsCheckbox",["require","SIM_CORE/scenery/buttons/Checkbox","SIM_CORE/scenery/Node","SIM_CORE/scenery/Text"],(function(t){"use strict";var e=t("SIM_CORE/scenery/buttons/Checkbox"),n=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/scenery/Text");return function(t){a(o,t);var n=i(o);function o(t,i){var s;m(this,o),i=Object.assign({fontSize:15,labelText:""},i),s=n.call(this,i);var a=new e(t,{centerX:150,centerY:10}),c=new r(i.labelText,{fontSize:i.fontSize,left:-7,centerY:a.centerY});return s.setChildren([a,c]),s}return o}(n)})),r("SIM_CORE/core-internal/FPSCounter",["require","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/core-internal/DOMObject"),n=t("SIM_CORE/util/Util");return function(t){a(r,t);var e=i(r);function r(){var t;return m(this,r),(t=e.call(this,{type:"div",style:{zIndex:99999999,position:"absolute",color:"red",left:"10px",top:"5px",fontSize:"17px",fontWeight:500,fontFamily:"Times, Arial, sans-serif",userSelect:"none",cursor:"default"},id:"fps-counter"}))._totalFrames=0,t._timeSinceLastCycle=0,t._minInstantFPS=null,t._maxInstantFPS=null,t}return S(r,[{key:"_updateFPSCounterText",value:function(t,e,i){var r=n.convertTo(1/t,n.MILLI).toFixed(2),o=t.toFixed(2),s=e.toFixed(2),a=i.toFixed(2);this.setText("".concat(o," FPS [ ").concat("â").concat(s," - ").concat("â").concat(a," ] ~ ").concat(r," ms/frame"))}},{key:"registerNewFrame",value:function(t){this._totalFrames++,this._timeSinceLastCycle+=t;var e=1/t;if(this._minInstantFPS=Math.min(this._minInstantFPS||e,e),this._maxInstantFPS=Math.max(this._maxInstantFPS||e,e),this._totalFrames%60==0){var n=60/this._timeSinceLastCycle;this._updateFPSCounterText(n,this._minInstantFPS,this._maxInstantFPS),this._timeSinceLastCycle=0,this._minInstantFPS=null,this._maxInstantFPS=null}}}]),r}(e)})),r("SIM_CORE/core-internal/Loader",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/Path","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Shape","SIM_CORE/scenery/Text","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/Path"),s=t("SIM_CORE/scenery/ScreenView"),c=t("SIM_CORE/util/Shape"),u=t("SIM_CORE/scenery/Text"),l=t("SIM_CORE/util/Util"),h=t("SIM_CORE/util/Vector"),d=50+10*Math.random(),f=15+10*Math.random(),y=100-d-f;return function(t){a(p,t);var n=i(p);function p(t,i){var a;return m(this,p),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(!i||!i.style,"Loader sets style."),e(!i||!i.type,"Loader sets type."),e(!i||!i.text,"Loader sets text."),e(!(i&&i.id&&i.class&&i.attributes),"Loader sets attributes"),e(!i||!i.children,"Loader sets children."),(i=Object.assign({backgroundColor:"#0f0f0f",loaderCircleBg:"#A5A5A5",loaderCircleFg:"#2974b2",loaderTitleColor:"#F1F1F1",loaderCircleRadius:43,loaderCircleStrokeWidth:11,titleCircleMargin:90,titleFontSize:30},i)).style={height:"100%",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",zIndex:999999,backgroundColor:i.backgroundColor},(a=n.call(this,i))._loaderCircleRadius=i.loaderCircleRadius,a._percentage=0,a._loaderScreenView=new s({id:"loader-screen-view"}),a._titleLabel=new u(t.simName,{center:a._loaderScreenView.layoutBounds.center.subtractXY(0,i.titleCircleMargin),maxWidth:a._loaderScreenView.layoutBounds.width,fill:i.loaderTitleColor,fontSize:i.titleFontSize,strokeWidth:2}),a._backgroundCirclePath=new r((new c).arc(h.ZERO,i.loaderCircleRadius,0,2*Math.PI-l.EPSILON),{fill:"none",stroke:i.loaderCircleBg,strokeWidth:i.loaderCircleStrokeWidth,center:a._loaderScreenView.layoutBounds.center.addXY(0,i.titleCircleMargin/2)}),a._foregroundCirclePath=new r(null,{fill:"none",stroke:i.loaderCircleFg,strokeWidth:i.loaderCircleStrokeWidth+.1,center:a._loaderScreenView.layoutBounds.center.addXY(0,i.titleCircleMargin/2)}),a.addChild(a._loaderScreenView.setChildren([a._titleLabel,a._backgroundCirclePath,a._foregroundCirclePath])),t.display.on("resize",a.layout.bind(o(a))),a}return S(p,[{key:"layout",value:function(t,e){this._loaderScreenView.layout(t,e)}},{key:"load",value:function(t,e){this.synchronousLoadScreens(t)}},{key:"incrementLoader",value:function(t){if(t!==this._percentage){e("number"==typeof t,"invalid loadedPercentage: ".concat(t)),this._percentage=t-l.EPSILON;var n=(new c).arc(h.ZERO,this._loaderCircleRadius,-Math.PI/2,-Math.PI/2+Math.PI*this._percentage/50);this._foregroundCirclePath.shape=n,t<50?this._foregroundCirclePath.topLeft=this._backgroundCirclePath.topCenter:this._foregroundCirclePath.topRight=this._backgroundCirclePath.topRight}}},{key:"synchronousLoadScreens",value:function(t){var e=this;setTimeout((function(){!function n(i){setTimeout((function(){t.screens[i].start(t.display);var r=1/t.screens.length*d,o=r*(.4+.1*Math.random()),s=r-o;e.incrementLoader(e._percentage+o),setTimeout((function(){e.incrementLoader(e._percentage+s),i+1<t.screens.length?n(i+1):e.synchronousLoadSimImages(t)}),800/Math.pow(2*t.screens.length,2*t.screens.length))}),300/Math.pow(t.screens.length,.01))}(0)}),300)}},{key:"synchronousLoadSimImages",value:function(t){var n=this;if(window.simImages){setTimeout((function(){!function i(r){setTimeout((function(){var o=window.simImages[r],s=o.image,a=o.src;s.element.onload=function(){e(n.isImageOk(s.element),"error while loading image"),n.incrementLoader(n._percentage+1/window.simImages.length*y),r+1<window.simImages.length?i(r+1):n.synchronousFinishDOM(t)},s.src=a}),300/window.images.length)}(0)}),200)}else setTimeout((function(){n.incrementLoader(n._percentage+y),n.synchronousFinishDOM(t)}),600)}},{key:"synchronousFinishDOM",value:function(t){var e=this;setTimeout((function(){t.finishLoadingScreens(),e.addDOMFinishedListener((function(){e.incrementLoader(100),setTimeout((function(){e.dispose()}),100)}))}),30*f)}},{key:"addDOMFinishedListener",value:function(t){return"loading"!==document.readyState?t():document.addEventListener?document.body.addEventListener("DOMContentLoaded",t):void document.attachEvent("onreadystatechange",(function(){"complete"===document.body.readyState&&t()}))}},{key:"isImageOk",value:function(t){return!!t.complete&&(void 0===t.naturalWidth||0!==t.naturalWidth)}}]),p}(n)})),r("SIM_CORE/core-internal/NavigationBar",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/util/Vector"),o=new r(768,504),s=function(t){a(s,t);var r=i(s);function s(t,i){var o;m(this,s),e("string"==typeof t,"invalid title: ".concat(t)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i));var a={id:"navigation-bar",style:{width:"100%",color:"white",bottom:0,background:"black",position:"absolute"}};return(i=Object.assign({},a,{},i)).style=Object.assign({},a.style,{},i.style),(o=r.call(this,i)).navigationBarContent=new n({id:"content",style:{height:"100%",fontSmoothing:"antialiased",margin:"0 auto"}}),o.titleDOMObject=new n({text:t,style:{height:"100%",display:"inline-flex",alignItems:"center"}}),o.addChild(o.navigationBarContent),o.navigationBarContent.setChildren([o.titleDOMObject]),o}return S(s,[{key:"layout",value:function(t,e){var n=Math.min(t/o.x,e/o.y),i=40*n,r=n*o.x,s=16*n;this.style.height="".concat(i,"px"),this.navigationBarContent.style.width="".concat(r,"px"),this.titleDOMObject.style.fontSize="".concat(s,"px"),this.titleDOMObject.style.left="".concat(8*n,"px")}}]),s}(n);return s.SCREEN_SIZE=o,s.NAVIGATION_BAR_HEIGHT=40,s})),r("SIM_CORE/Screen",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/ScreenView"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/ScreenView");return function(t){a(o,t);var n=i(o);function o(t){var i;return m(this,o),e(Object.getPrototypeOf(t)===Object.prototype,"invalid config: ".concat(t)),t=Object.assign({model:t.model,view:t.view,name:t.name,background:t.background||"white"},t),e.enabled&&(e(t.model&&!!t.model.constructor,"invalid config.model: ".concat(t.model)),e(t.view&&!!t.view.constructor&&t.view.prototype instanceof r,"invalid config.view: ".concat(t.view)),e("string"==typeof t.name,"invalid config.name: ".concat(t.name)),e("string"==typeof t.background,"invalid config.background: ".concat(t.background))),(i=n.call(this,{style:{width:"100%",top:0,background:t.background,display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"}})).name=t.name,i.view,i._config=t,i}return S(o,[{key:"start",value:function(t){var e=new this._config.model;this.view=new this._config.view(e),t.addChild(this.addChild(this.view))}}]),o}(n)})),r("text",[],(function(){"use strict";var t="undefined"==typeof process&&"undefined"!=typeof XMLHttpRequest,e={};return{load:function(i,r,o,s){var a=r.toUrl(i);if(t){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&200===c.status?o(c.responseText):c.status>=399&&c.status<600&&(c.onreadystatechange=null,o.error('Text Plugin error for "text!'.concat(i,'".').concat((new Error).stack.replace("Error",""))))},c.send(null)}else{var u=n.nodeRequire("fs");if(u.existsSync(a)){var l=u.readFileSync(a,"utf8");e[i]=l,o(l)}else o.error('Text Plugin error for "text!'.concat(i,'".').concat((new Error).stack.replace("Error","")))}},write:function(n,i,r,o){if(t||!Object.prototype.hasOwnProperty.call(e,i))throw new Error('Text Plugin error for "text!'.concat(name,'"'));r.asModule("".concat(n,"!").concat(i),"define( () => `".concat(e[i],"` );\n"))}}})),r("text!REPOSITORY/package.json",[],(function(){return'{\n  "name": "hydraulic-lifts",\n  "license": "AGPL-3.0",\n  "author": {\n    "name": "Luke Pan",\n    "email": "curly0328@gmail.com"\n  },\n  "version": "1.0.0-dev.0",\n  "description": "Hydraulic Lifts is a HTML5 educational and interactive simulation that runs in the browser and explores Pascal\'s Law.",\n  "repository": {\n    "type": "git",\n    "url": "https://github.com/Luke0328/hydraulic-lifts.git"\n  },\n  "bugs": {\n    "url": "https://github.com/Luke0328/hydraulic-lifts/issues"\n  },\n  "homepage": "https://github.com/Luke0328/hydraulic-lifts#readme",\n  "devDependencies": {\n    "@brandonli8/grunt-config": "0.0.0-dev.17"\n  },\n  "dependencies": {\n    "requirejs": "^2.3.6",\n    "sim-core": "0.0.0-dev.39"\n  }\n}\n'})),r("SIM_CORE/Sim",["require","SIM_CORE/StandardSimQueryParameters","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/core-internal/FPSCounter","SIM_CORE/core-internal/Loader","SIM_CORE/core-internal/NavigationBar","SIM_CORE/Screen","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Util","text!REPOSITORY/package.json"],(function(t){"use strict";var e=t("SIM_CORE/StandardSimQueryParameters"),n=t("SIM_CORE/util/assert"),i=t("SIM_CORE/core-internal/Display"),r=t("SIM_CORE/core-internal/FPSCounter"),o=t("SIM_CORE/core-internal/Loader"),s=t("SIM_CORE/core-internal/NavigationBar"),a=t("SIM_CORE/Screen"),c=t("SIM_CORE/scenery/ScreenView"),u=t("SIM_CORE/util/Util");return function(){function l(){m(this,l)}return S(l,null,[{key:"start",value:function(l){n(!this.initiated,"Sim has already been launched."),l=Object.assign({screens:l.screens,name:l.name,maxDT:l.maxDT||.5},l),n(u.isArray(l.screens),"invalid screens: ".concat(l.screens)),n(l.screens.every((function(t){return t instanceof a})),"invalid screens: ".concat(l.screens)),n("string"==typeof l.name,"invalid name: ".concat(l.name)),n("number"==typeof l.maxDT&&l.maxDT>0,"invalid maxDT: ".concat(l.maxDT)),this.initiated=!0,this.simName=l.name,this.screens=l.screens,this.display=(new i).initiate();var h=new o(this);if(this.display.addChild(h),h.load(this),this.navigationBar=new s(l.name),this.display.addChild(this.navigationBar),e.fps){var d=new r;this.display.addChild(d),this.display.on("frame",(function(t){d.registerNewFrame(t)}))}e.dev&&c.enableDevBorder(),e.version&&console.log("".concat(l.name,": v").concat(JSON.parse(t("text!REPOSITORY/package.json")).version)),window.addEventListener("pageshow",(function(t){t.persisted&&window.location.reload()})),i.isMobile&&(window.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1}),window.addEventListener("touchend",(function(t){t.preventDefault()})))}},{key:"finishLoadingScreens",value:function(){var t=this;e.dev&&c.enableDevBorder(),this.display.on("resize",(function(e,n){t.navigationBar.layout(e,n);var i=n-parseFloat(t.navigationBar.style.height);t.screens.forEach((function(t){t.style.height="".concat(i,"px"),t.view.layout(e,i)}))}))}}]),l}()})),r("SIM_CORE/scenery/events/DragListener",["require","SIM_CORE/util/assert","SIM_CORE/scenery/events/HoverListener","SIM_CORE/scenery/Node","SIM_CORE/scenery/events/PressListener","SIM_CORE/Sim"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/events/HoverListener"),r=t("SIM_CORE/scenery/Node"),s=t("SIM_CORE/scenery/events/PressListener");return function(c){a(l,c);var u=i(l);function l(t,n){var i;return m(this,l),e(t instanceof r,"invalid node: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.press,"DragListener does not have a press option."),e(!n||!n.release,"DragListener does not have a release option."),n=Object.assign({start:null,end:null,drag:null},n),e(!n.start||"function"==typeof n.start,"invalid start: ".concat(n.start)),e(!n.end||"function"==typeof n.end,"invalid end: ".concat(n.end)),e(!n.drag||"function"==typeof n.drag,"invalid drag: ".concat(n.drag)),(i=u.call(this,t))._startListener=n.start,i._endListener=n.end,i._dragListener=n.drag,i._pressListener=i._start.bind(o(i)),i._initiate(),i}return S(l,[{key:"_start",value:function(e,i){var r=this;this._startListener&&this._startListener(e,i);var o=t("SIM_CORE/Sim").display,a=e.copy(),c=new n(o,{movement:function(t){if(r._dragListener){var e=r._getEventParentLocation(t),n=e.copy().subtract(a);a.set(e),r._dragListener(n,e,t)}}}),u=new s(o,{release:function(t){c.dispose(),u.dispose(),r._endListener&&r._endListener(t)}})}}]),l}(s)})),r("SIM_CORE/scenery/Line",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),s=t("SIM_CORE/util/Vector"),c=function(t){a(c,t);var r=i(c);function c(t,e,i,o,a){var u;return m(this,c),n("number"==typeof t,"invalid x1: ".concat(t)),n("number"==typeof e,"invalid x1: ".concat(e)),n("number"==typeof i,"invalid x2: ".concat(i)),n("number"==typeof o,"invalid y2: ".concat(o)),n(!a||Object.getPrototypeOf(a)===Object.prototype,"invalid options: ".concat(a)),n(!a||!a.attributes,"Line sets attributes"),(u=r.call(this,null,a))._start=new s(t,e),u._end=new s(i,o),u._updateLineShape(),u}return S(c,[{key:"_updateLineShape",value:function(){this._start&&this._end&&(this._start.equalsEpsilon(this._end)&&e(h(c.prototype),"shape",null,this,!0),e(h(c.prototype),"shape",(new o).moveToPoint(this._start).lineToPoint(this._end),this,!0))}},{key:"start",get:function(){return this._start},set:function(t){t.equals(this._start)||(n(t instanceof s,"invalid start: ".concat(t)),this._start.set(t),this._updateLineShape())}},{key:"end",get:function(){return this._end},set:function(t){t.equals(this._end)||(n(t instanceof s,"invalid end: ".concat(t)),this._end.set(t),this._updateLineShape())}},{key:"startX",set:function(t){t!==this.start.x&&(n("number"==typeof t,"invalid startX: ".concat(t)),this._start.setX(t),this._updateLineShape())}},{key:"startY",set:function(t){t!==this.start.x&&(n("number"==typeof t,"invalid startY: ".concat(t)),this._start.setY(t),this._updateLineShape())}},{key:"endX",set:function(t){t!==this.end.x&&(n("number"==typeof t,"invalid endX: ".concat(t)),this._end.setX(t),this._updateLineShape())}},{key:"endY",set:function(t){t!==this.end.x&&(n("number"==typeof t,"invalid endY: ".concat(t)),this._end.setY(t),this._updateLineShape())}},{key:"shape",set:function(t){n(!1,"Line sets shape")}}],[{key:"withPoints",value:function(t,e,i){return n(t instanceof s,"invalid start: ".concat(t)),n(e instanceof s,"invalid end: ".concat(e)),new c(t.x,t.y,e.x,e.y,i)}}]),c}(r);return c.MUTATOR_KEYS=r.MUTATOR_KEYS,c})),r("SIM_CORE/scenery/Slider",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/events/DragListener","SIM_CORE/scenery/Line","SIM_CORE/scenery/Node","SIM_CORE/scenery/events/PressListener","SIM_CORE/util/Property","SIM_CORE/util/Range","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/events/DragListener"),s=t("SIM_CORE/scenery/Line"),c=t("SIM_CORE/scenery/Node"),l=t("SIM_CORE/scenery/events/PressListener"),d=t("SIM_CORE/util/Property"),f=t("SIM_CORE/util/Range"),y=t("SIM_CORE/scenery/Rectangle"),p=t("SIM_CORE/util/Util");return function(t){a(v,t);var _=i(v);function v(t,i,a){var c;m(this,v),e(t instanceof f,"invalid range: ".concat(t)),e(!a||Object.getPrototypeOf(a)===Object.prototype,"invalid options: ".concat(a)),e(!a||!a.style,"Slider sets attributes"),e(i instanceof d&&"number"==typeof i.value,"invalid numberProperty: ".concat(i)),a=Object.assign({trackFill:"#BCBCBC",trackStroke:"black",trackStrokeWidth:1,trackHeight:3,trackWidth:180,trackCornerRadius:0,thumbWidth:12,thumbHeight:25,thumbBaseColor:"#90F360",thumbStroke:"black",thumbStrokeWidth:1,thumbCenterLineStroke:"#333",thumbCenterLineYMargin:3,thumbCornerRadius:2.5,majorTickHeight:35,majorTickStroke:"black",majorTickStrokeWidth:1.3,minorTickHeight:8,minorTickStroke:"#323232",minorTickStrokeWidth:1,tickLabelSpacing:6,startDrag:null,endDrag:null,constrain:null},a),(c=_.call(this,a))._constrain=a.constrain,c._majorTickHeight=a.majorTickHeight,c._majorTickStroke=a.majorTickStroke,c._majorTickStrokeWidth=a.majorTickStrokeWidth,c._minorTickHeight=a.minorTickHeight,c._minorTickStroke=a.minorTickStroke,c._minorTickStrokeWidth=a.minorTickStrokeWidth,c._tickLabelSpacing=a.tickLabelSpacing,c._range=t,c._numberProperty=i,c._track=new y(a.trackWidth,a.trackHeight,{left:a.thumbWidth/2,fill:a.trackFill,stroke:a.trackStroke,strokeWidth:a.trackStrokeWidth,cornerRadius:a.trackCornerRadius,cursor:"pointer"});var u=new y(a.thumbWidth,a.thumbHeight,{stroke:a.thumbStroke,strokeWidth:a.thumbStrokeWidth,cornerRadius:a.thumbCornerRadius}),h=new s(u.centerX,u.top+a.thumbCenterLineYMargin,u.centerX,u.bottom-a.thumbCenterLineYMargin,{stroke:a.thumbCenterLineStroke});c._thumb=new n(u,h,{centerY:c._track.centerY}),n.apply3DGradients(c._thumb,a.thumbBaseColor);var p=new y(c._thumb.width/2,0,{right:c._track.left}),g=new y(c._thumb.width/2,0,{left:c._track.right});return c.setChildren([c._track,c._thumb,p,g]),a&&c.mutate(a),c._thumbDragListener=new r(c._thumb,{drag:function(t,e){c._thumb.interactionStateProperty.value=n.interactionStates.PRESSED,c._setThumbPosition(e)},start:a.startDrag,end:function(){c._thumb.interactionStateProperty.value=n.interactionStates.IDLE,a.endDrag&&a.endDrag()}}),c._trackPressListener=new l(c._track,{press:c._setThumbPosition.bind(o(c))}),c._numberPropertyObserver=c._updateSlider.bind(o(c)),i.link(c._numberPropertyObserver),c}return S(v,[{key:"dispose",value:function(){this._numberProperty.unlink(this._numberPropertyObserver),this._trackPressListener.dispose(),this._thumbDragListener.dispose(),u(h(v.prototype),"dispose",this).call(this)}},{key:"addMajorTick",value:function(t,e){this._addTick(t,e,!0)}},{key:"addMinorTick",value:function(t,e){this._addTick(t,e,!1)}},{key:"_addTick",value:function(t,n,i){e("number"==typeof t&&this._range.contains(t),"invalid value: ".concat(t)),e(n instanceof c,"invalid label: ".concat(n));var r=(t-this._range.min)/this._range.length*this._track.width+this._track.left,o=new s(r,i?this._track.top-this._majorTickHeight/2:this._track.top,r,i?this._track.top+this._majorTickHeight/2:this._track.top-this._minorTickHeight,{stroke:i?this._majorTickStroke:this._minorTickStroke,strokeWidth:i?this._majorTickStrokeWidth:this._minorTickStrokeWidth});this.addChild(o),n&&(this.addChild(n),n.centerX=o.centerX,n.bottom=o.top-this._tickLabelSpacing),this._thumb.moveToFront(),this.layout(this.screenViewScale)}},{key:"_setThumbPosition",value:function(t){var e=t.subtract(this._track.topLeft).subtractXY(2*this._track.strokeWidth,0),n=p.clamp(e.x/this._track.width,0,1)*this._range.length+this._range.min;this._numberProperty.value=this._constrain?this._constrain(n):n}},{key:"_updateSlider",value:function(){e(this._range.contains(this._numberProperty.value),"numberProperty outside of range of slider");var t=(this._numberProperty.value-this._range.min)/this._range.length;this._thumb.centerX=t*this._track.width+this._track.left}}]),v}(c)})),r("HYDRAULIC_LIFTS/view/HydraulicLiftsSlider",["require","SIM_CORE/scenery/Node","SIM_CORE/scenery/Rectangle","SIM_CORE/scenery/Slider","SIM_CORE/scenery/Text","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/scenery/Node"),n=t("SIM_CORE/scenery/Rectangle"),r=t("SIM_CORE/scenery/Slider"),o=t("SIM_CORE/scenery/Text"),s=t("SIM_CORE/util/Util"),c=t("SIM_CORE/util/Vector");return function(t){a(u,t);var e=i(u);function u(t,i,a){var l;m(this,u),a=Object.assign({labelText:"",leftLabel:"",rightLabel:"",fontSize:15,padding:15,numberDisplaySize:new c(65,30),numberDisplayDecimalPlaces:2,numberDisplayUnit:""},a),l=e.call(this,a);var h=new r(t,i,{rightLabel:a.rightLabel,leftLabel:a.leftLabel,centerY:50}),d=new n(a.numberDisplaySize.x,a.numberDisplaySize.y,{fill:"white",stroke:"rgb( 150, 150, 150 )",strokeWidth:.5,right:h.right,bottom:h.top-a.padding/2,cornerRadius:1}),f=new o("",{fontSize:a.fontSize}),y=new o(a.labelText,{fontSize:a.fontSize,left:h.left,centerY:d.centerY});return i.link((function(t){f.setText("".concat(s.toFixed(t,a.numberDisplayDecimalPlaces)," ").concat(a.numberDisplayUnit)),f.centerX=d.centerX,f.centerY=d.centerY+2})),l.setChildren([d,f,y,h]),l}return u}(e)})),r("HYDRAULIC_LIFTS/view/ControlPanel",["require","SIM_CORE/scenery/FlexBox","HYDRAULIC_LIFTS/view/HydraulicLiftsCheckbox","HYDRAULIC_LIFTS/view/HydraulicLiftsSlider","SIM_CORE/scenery/Node","SIM_CORE/scenery/Rectangle"],(function(t){"use strict";var e=t("SIM_CORE/scenery/FlexBox"),n=t("HYDRAULIC_LIFTS/view/HydraulicLiftsCheckbox"),r=t("HYDRAULIC_LIFTS/view/HydraulicLiftsSlider"),o=t("SIM_CORE/scenery/Node"),s=t("SIM_CORE/scenery/Rectangle");return function(t){a(c,t);var o=i(c);function c(t,i,a,u){var l;m(this,c),u=Object.assign({width:210,height:325,fontSize:15,padding:20},u),l=o.call(this,u);var h=new r(t.inputLift.forceRange,t.inputLift.forceProperty,{controlPanelWidth:u.width,labelText:"Input Force",rightLabel:"10",leftLabel:"0",numberDisplayUnit:"N",fontSize:u.fontSize}),d=new r(t.inputLift.radiusRange,t.inputLift.radiusProperty,{controlPanelWidth:u.width,labelText:"Input Radius",rightLabel:"1",leftLabel:"5",numberDisplayUnit:"m",fontSize:u.fontSize}),f=new r(t.outputLift.radiusRange,t.outputLift.radiusProperty,{controlPanelWidth:u.width,labelText:"Output Radius",rightLabel:"5",leftLabel:"10",numberDisplayUnit:"m",fontSize:u.fontSize}),y=new n(i,{labelText:"Show Output Force?",fontSize:u.fontSize}),p=new n(a,{labelText:"Show Force Arrows?",fontSize:u.fontSize}),_=new e("vertical",{spacing:30,align:"center",children:[h,d,f,y,p]}),v=new s(_.width+2*u.padding,_.height+2*u.padding,{cornerRadius:5,stroke:"black",fill:"rgb( 238, 229, 233 )",strokeWidth:1});return _.center=v.center,l.setChildren([v,_]),l}return c}(o)})),r("SIM_CORE/scenery/Circle",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Util"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),s=t("SIM_CORE/util/Util"),c=function(t){a(c,t);var r=i(c);function c(t,e){var i;return m(this,c),n("number"==typeof t&&t>=0,"invalid radius: ".concat(t)),n(!e||Object.getPrototypeOf(e)===Object.prototype,"invalid options: ".concat(e)),n(!e||!e.attributes,"Circle sets attributes"),(i=r.call(this,null,e))._radius=t,i._updateCircleShape(),e&&i.mutate(e),i}return S(c,[{key:"_updateCircleShape",value:function(){this._radius&&(0===this._radius&&e(h(c.prototype),"shape",null,this,!0),e(h(c.prototype),"shape",(new o).arc(this.center,this._radius,0,2*Math.PI-s.EPSILON).close(),this,!0))}},{key:"radius",get:function(){return this._radius},set:function(t){t!==this._radius&&(n("number"==typeof t,"invalid radius: ".concat(t)),this._radius=t,this._updateCircleShape())}},{key:"shape",set:function(t){n(!1,"Circle sets shape")}}]),c}(r);return c.MUTATOR_KEYS=r.MUTATOR_KEYS,c})),r("SIM_CORE/scenery/buttons/ResetButton",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Circle","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Circle"),s=t("SIM_CORE/scenery/Node"),c=t("SIM_CORE/scenery/Path"),u=t("SIM_CORE/util/Shape"),l=t("SIM_CORE/util/Vector");return function(t){a(d,t);var h=i(d);function d(t){var i;m(this,d),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),t=Object.assign({baseColor:"#C32526",listener:null,radius:21.5,buttonStroke:"black",buttonStrokeWidth:.5,curvedArrowFill:"white",curvedArrowStroke:"black",curvedArrowStrokeWidth:.5,curvedArrowHeadHeight:8.5,curvedArrowHeadWidth:13,curvedArrowTailWidth:5.7,curvedArrowRadius:11,curvedArrowStartAngle:1.95*Math.PI,curvedArrowEndAngle:1.65*Math.PI},t);var a=d.generateCurvedArrowShape(t.curvedArrowStartAngle,t.curvedArrowEndAngle,t.curvedArrowRadius,t.curvedArrowHeadHeight,t.curvedArrowHeadWidth,t.curvedArrowTailWidth),u=(new s).addChild(new c(a,{fill:t.curvedArrowFill,stroke:t.curvedArrowStroke,strokeWidth:t.curvedArrowStrokeWidth,left:a.bounds.maxX+a.bounds.minX,top:a.bounds.maxY+a.bounds.minY})),l=new r(t.radius,{stroke:t.buttonStroke,strokeWidth:t.buttonStrokeWidth,shapeRendering:"geometricPrecision"});return i=h.call(this,l,u,t),n.apply3DGradients(o(i),t.baseColor),t.listener&&i.interactionStateProperty.link((function(e){e===n.interactionStates.PRESSED&&t.listener()})),i}return S(d,null,[{key:"generateCurvedArrowShape",value:function(t,n,i,r,o,s){e(o>s,"tailWidth must be smaller than the headWidth"),e(i>o/2,"radius smaller than half of the headWidth");var a=i-s/2,c=i+s/2,h=new l(0,i).setAngle(-t).add(l.scratch.setXY(0,1).setAngle(-t+Math.PI/2).multiply(r));return(new u).arc(l.ZERO,c,-t,-n,!0).lineToPoint(l.scratch.setXY(0,a).setAngle(-n)).arc(l.ZERO,a,-n,-t,!1).lineToPoint(l.scratch.setXY(0,i-o/2).setAngle(-t)).lineToPoint(h).lineToPoint(l.scratch.setXY(0,i+o/2).setAngle(-t)).close()}}]),d}(n)})),r("HYDRAULIC_LIFTS/view/HydraulicLiftsScreenView",["require","SIM_CORE/util/Bounds","HYDRAULIC_LIFTS/view/ContainerNode","HYDRAULIC_LIFTS/view/ControlPanel","SIM_CORE/util/ModelViewTransform","SIM_CORE/util/Property","SIM_CORE/scenery/buttons/ResetButton","SIM_CORE/scenery/ScreenView"],(function(t){"use strict";var e=t("SIM_CORE/util/Bounds"),n=t("HYDRAULIC_LIFTS/view/ContainerNode"),r=t("HYDRAULIC_LIFTS/view/ControlPanel"),o=t("SIM_CORE/util/ModelViewTransform"),s=t("SIM_CORE/util/Property"),c=t("SIM_CORE/scenery/buttons/ResetButton"),u=t("SIM_CORE/scenery/ScreenView");return function(t){a(l,t);var u=i(l);function l(t){var i;m(this,l),(i=u.call(this)).outputForceVisibleProperty=new s(!1,{type:"boolean"}),i.arrowsVisibleProperty=new s(!1,{type:"boolean"});var a=new e(-25,-15,20,15),h=e.rect(15,10,20*a.width,20*a.height),d=new o(a,h),f=new n(t.container,i.outputForceVisibleProperty,i.arrowsVisibleProperty,d),y=new r(t.container,i.outputForceVisibleProperty,i.arrowsVisibleProperty,{left:15,top:10}),p=new c({listener:function(){t.container.reset()},centerX:y.centerX,centerY:y.bottom+40});return i.setChildren([f,y,p]),i}return l}(u)})),r("HYDRAULIC_LIFTS/HydraulicLiftsScreen",["require","HYDRAULIC_LIFTS/model/HydraulicLiftsModel","HYDRAULIC_LIFTS/view/HydraulicLiftsScreenView","SIM_CORE/Screen"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/model/HydraulicLiftsModel"),n=t("HYDRAULIC_LIFTS/view/HydraulicLiftsScreenView");return function(t){a(o,t);var r=i(o);function o(){return m(this,o),r.call(this,{name:"Hydraulic Lifts",background:"rgb( 255, 250, 227 )",model:e,view:n})}return o}(t("SIM_CORE/Screen"))})),r("hydraulic-lifts-main",["require","HYDRAULIC_LIFTS/HydraulicLiftsScreen","SIM_CORE/Sim"],(function(t){"use strict";var e=t("HYDRAULIC_LIFTS/HydraulicLiftsScreen");t("SIM_CORE/Sim").start({screens:[new e],name:"Hydraulic Lifts"})})),n(["hydraulic-lifts-main"])}();